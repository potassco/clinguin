var LeaderLine=function(){"use strict";var Y,K,B,Vt,Xt,ue,he,qt,Pt,pe,we,Gt,Qt,ce,Dt,Oe,Me,Ie,Ot,Ce,Le,de,Ae,ot="leader-line",_t=1,vt=2,wt=3,bt=4,Kt={top:_t,right:vt,bottom:wt,left:bt},Ve=1,Pe=2,fe=3,ye=4,Ne=5,Te={straight:Ve,arc:Pe,fluid:fe,magnet:ye,grid:Ne},Et="behind",$e=ot+"-defs",tn='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:white}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:black}.leader-line-caps-mask-anchor{stroke:black}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:rgba(0,0,0,0)}.leader-line-line-mask-shape{stroke:white}.leader-line-line-outline-mask-shape{stroke:black}.leader-line-plug-mask-shape{fill:white;stroke:black}.leader-line-plug-outline-mask-shape{fill:black;stroke:white}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',Jt={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},me={behind:Et,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},$t={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Se=[_t,vt,wt,bt],Mt="auto",We={x:"left",y:"top",width:"width",height:"height"},en=80,Be=4,nn=5,an=120,Re=8,on=3.75,Nt=10,St=30,te=.5522847,rn=.25*Math.PI,Fe=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,F="http://www.w3.org/2000/svg",dt=!(Wt="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled)&&!!document.uniqueID,It="MozAppearance"in document.documentElement.style,Tt=!(Wt||It||!window.chrome||!window.CSS),et=!(Wt||dt||It||Tt||window.chrome||!("WebkitAppearance"in document.documentElement.style)),Ge=dt||Wt?.2:.1,ct={path:fe,lineColor:"coral",lineSize:4,plugSE:[Et,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},kt=(Le={}.toString,Ae=(de={}.hasOwnProperty.toString).call(Object),function(t){return t&&"[object Object]"===Le.call(t)&&(!(t=Object.getPrototypeOf(t))||(t=t.hasOwnProperty("constructor")&&t.constructor)&&"function"==typeof t&&de.call(t)===Ae)}),pt=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},it=(ce={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},Dt=1e3/60/2,Oe=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,Dt)},Me=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(t){clearTimeout(t)},Ie=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},Ot=[],Ce=0,{add:function(t,e,n,a,o,i,u){var p,c,M,g,_,O,S,f,s,l,y=++Ce;function m(A,b){return{value:t(b),timeRatio:A,outputRatio:b}}if("string"==typeof o&&(o=ce[o]),t=t||function(){},n<Dt)p=[m(0,0),m(1,1)];else{if(c=Dt/n,p=[m(0,0)],0===o[0]&&0===o[1]&&1===o[2]&&1===o[3])for(g=c;g<=1;g+=c)p.push(m(g,g));else for(_=M=(g=c)/10;_<=1;_+=M)l=void 0,f=(l=_*_)*_,l*=3*(s=1-_),g<=(O={x:(S=s*s*3*_)*o[0]+l*o[2]+f,y:S*o[1]+l*o[3]+f}).x&&(p.push(m(O.x,O.y)),g+=c);p.push(m(1,1))}return Ot.push(i={animId:y,frameCallback:e,duration:n,count:a,frames:p,reverse:!!i}),!1!==u&&He(i,u),y},remove:function(t){var e;Ot.some(function(n,a){return n.animId===t&&(e=a,!(n.framesStart=null))})&&Ot.splice(e,1)},start:function(t,e,n){Ot.some(function(a){return a.animId===t&&(a.reverse=!!e,He(a,n),!0)})},stop:function(t,e){var n;return Ot.some(function(a){return a.animId===t&&(e?null!=a.lastFrame&&(n=a.frames[a.lastFrame].timeRatio):(n=(Date.now()-a.framesStart)/a.duration,(n=a.reverse?1-n:n)<0?n=0:1<n&&(n=1)),!(a.framesStart=null))}),n},validTiming:function(t){return"string"==typeof t?ce[t]:Array.isArray(t)&&[0,1,2,3].every(function(e){return Ie(t[e])&&0<=t[e]&&t[e]<=1})?[t[0],t[1],t[2],t[3]]:null}}),ln=function(t,e){t.SVGPathElement.prototype.getPathData&&t.SVGPathElement.prototype.setPathData&&!e||function(){function n(S){this._string=S,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var a={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},o=-1!==t.navigator.userAgent.indexOf("MSIE ");function i(S){if(!S||0===S.length)return[];var f=new n(S),s=[];if(f.initialCommandIsMoveTo())for(;f.hasMoreData();){var l=f.parseSegment();if(null===l)break;s.push(l)}return s}function u(S){return S.map(function(f){return{type:f.type,values:Array.prototype.slice.call(f.values)}})}function p(S){var f=[],s=null,l=null,y=null,m=null,A=null,b=null,N=null;return S.forEach(function(h){var C,I,r,d,x,E,L,w;"M"===h.type?(f.push({type:"M",values:[L=h.values[0],w=h.values[1]]}),m=b=L,A=N=w):"C"===h.type?(f.push({type:"C",values:[x=h.values[0],E=h.values[1],C=h.values[2],I=h.values[3],L=h.values[4],w=h.values[5]]}),l=C,y=I,m=L,A=w):"L"===h.type?(f.push({type:"L",values:[L=h.values[0],w=h.values[1]]}),m=L,A=w):"H"===h.type?(f.push({type:"L",values:[L=h.values[0],A]}),m=L):"V"===h.type?(f.push({type:"L",values:[m,w=h.values[0]]}),A=w):"S"===h.type?(d="C"===s||"S"===s?(r=m+(m-l),A+(A-y)):(r=m,A),f.push({type:"C",values:[r,d,C=h.values[0],I=h.values[1],L=h.values[2],w=h.values[3]]}),l=C,y=I,m=L,A=w):"T"===h.type?(E="Q"===s||"T"===s?(x=m+(m-l),A+(A-y)):(x=m,A),f.push({type:"C",values:[r=m+2*(x-m)/3,d=A+2*(E-A)/3,(L=h.values[0])+2*(x-L)/3,(w=h.values[1])+2*(E-w)/3,L,w]}),l=x,y=E,m=L,A=w):"Q"===h.type?(f.push({type:"C",values:[r=m+2*((x=h.values[0])-m)/3,d=A+2*((E=h.values[1])-A)/3,(L=h.values[2])+2*(x-L)/3,(w=h.values[3])+2*(E-w)/3,L,w]}),l=x,y=E,m=L,A=w):"A"===h.type?(r=h.values[1],d=h.values[2],x=h.values[3],E=h.values[4],L=h.values[5],w=h.values[6],0===(I=h.values[0])||0===r?(f.push({type:"C",values:[m,A,L,w,L,w]}),m=L,A=w):m===L&&A===w||O(m,A,L,w,I,r,d,x,E).forEach(function(H){f.push({type:"C",values:H}),m=L,A=w})):"Z"===h.type&&(f.push(h),m=b,A=N),s=h.type}),f}n.prototype={parseSegment:function(){var S=a[s=this._string[this._currentIndex]]||null;if(null===S){if(null===this._prevCommand||null===(S=("+"===s||"-"===s||"."===s||"0"<=s&&s<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var s,f=null;return"H"===(s=(this._prevCommand=S).toUpperCase())||"V"===s?f=[this._parseNumber()]:"M"===s||"L"===s||"T"===s?f=[this._parseNumber(),this._parseNumber()]:"S"===s||"Q"===s?f=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===s?f=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===s?f=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===s&&(this._skipOptionalSpaces(),f=[]),null===f||0<=f.indexOf(null)?null:{type:S,values:f}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){return a[this._string[this._currentIndex]]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var S=this.peekSegmentType();return"M"===S||"m"===S},_isCurrentSpace:function(){var S=this._string[this._currentIndex];return S<=" "&&(" "===S||"\n"===S||"\t"===S||"\r"===S||"\f"===S)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var S=0,f=0,s=1,l=0,y=1,m=1,A=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,y=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var b=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==b)for(var N=this._currentIndex-1,h=1;b<=N;)f+=h*(this._string[N]-"0"),--N,h*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)s*=10,l+=(this._string.charAt(this._currentIndex)-"0")/s,this._currentIndex+=1}if(this._currentIndex!==A&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,m=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)S*=10,S+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var C=f+l;return C*=y,S&&(C*=Math.pow(10,m*S)),A===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),C)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var S=null,f=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===f)S=0;else{if("1"!==f)return null;S=1}return this._skipOptionalSpacesOrDelimiter(),S}};var c=t.SVGPathElement.prototype.setAttribute,M=t.SVGPathElement.prototype.removeAttribute,g=t.Symbol?t.Symbol():"__cachedPathData",_=t.Symbol?t.Symbol():"__cachedNormalizedPathData",O=function(S,f,s,W,w,H,A,b,N,h){function C(U,R,$){return{x:U*Math.cos($)-R*Math.sin($),y:U*Math.sin($)+R*Math.cos($)}}var I=Math.PI*A/180,T=[];h?(G=h[0],L=h[1],D=h[2],E=h[3]):(S=(j=C(S,f,-I)).x,f=j.y,1<(j=(x=(S-(s=(d=C(s,W,-I)).x))/2)*x/(w*w)+(r=(f-(W=d.y))/2)*r/(H*H))&&(w*=j=Math.sqrt(j),H*=j),d=w*w,j=H*H,D=(d=(b===N?-1:1)*Math.sqrt(Math.abs((d*j-d*r*r-j*x*x)/(d*r*r+j*x*x))))*w*r/H+(S+s)/2,E=d*-H*x/w+(f+W)/2,G=Math.asin(parseFloat(((f-E)/H).toFixed(9))),L=Math.asin(parseFloat(((W-E)/H).toFixed(9))),S<D&&(G=Math.PI-G),s<D&&(L=Math.PI-L),G<0&&(G=2*Math.PI+G),L<0&&(L=2*Math.PI+L),N&&L<G&&(G-=2*Math.PI),!N&&G<L&&(L-=2*Math.PI));var r,d,x,j=L-G;Math.abs(j)>120*Math.PI/180&&(r=L,d=s,x=W,L=N&&G<L?G+120*Math.PI/180*1:G+120*Math.PI/180*-1,s=D+w*Math.cos(L),W=E+H*Math.sin(L),T=O(s,W,d,x,w,H,A,0,N,[L,r,D,E])),j=L-G;var D=Math.cos(G),E=Math.sin(G),G=Math.cos(L),L=Math.sin(L);if(G=[s+(w=4/3*w*(j=Math.tan(j/4)))*L,W-(H=4/3*H*j)*G],W=[s,W],(D=[S+w*E,f-H*D])[0]=2*(j=[S,f])[0]-D[0],D[1]=2*j[1]-D[1],h)return[D,G,W].concat(T);T=[D,G,W].concat(T).join().split(",");var V=[],k=[];return T.forEach(function(U,R){k.push(R%2?C(T[R-1],T[R],I).y:C(T[R],T[R+1],I).x),6===k.length&&(V.push(k),k=[])}),V};t.SVGPathElement.prototype.setAttribute=function(S,f){"d"===S&&(this[g]=null,this[_]=null),c.call(this,S,f)},t.SVGPathElement.prototype.removeAttribute=function(S,f){"d"===S&&(this[g]=null,this[_]=null),M.call(this,S)},t.SVGPathElement.prototype.getPathData=function(S){if(S&&S.normalize)return this[_]?u(this[_]):(this[g]?A=u(this[g]):(A=i(this.getAttribute("d")||""),this[g]=u(A)),S=p((f=[],m=y=l=s=null,A.forEach(function(b){var r,d,x=b.type;"M"===x?(f.push({type:"M",values:[r=b.values[0],d=b.values[1]]}),s=y=r,l=m=d):"m"===x?(f.push({type:"M",values:[r=s+b.values[0],d=l+b.values[1]]}),s=y=r,l=m=d):"L"===x?(f.push({type:"L",values:[r=b.values[0],d=b.values[1]]}),s=r,l=d):"l"===x?(f.push({type:"L",values:[r=s+b.values[0],d=l+b.values[1]]}),s=r,l=d):"C"===x?(f.push({type:"C",values:[b.values[0],b.values[1],b.values[2],b.values[3],r=b.values[4],d=b.values[5]]}),s=r,l=d):"c"===x?(f.push({type:"C",values:[s+b.values[0],l+b.values[1],s+b.values[2],l+b.values[3],r=s+b.values[4],d=l+b.values[5]]}),s=r,l=d):"Q"===x?(f.push({type:"Q",values:[b.values[0],b.values[1],r=b.values[2],d=b.values[3]]}),s=r,l=d):"q"===x?(f.push({type:"Q",values:[s+b.values[0],l+b.values[1],r=s+b.values[2],d=l+b.values[3]]}),s=r,l=d):"A"===x?(f.push({type:"A",values:[b.values[0],b.values[1],b.values[2],b.values[3],b.values[4],r=b.values[5],d=b.values[6]]}),s=r,l=d):"a"===x?(f.push({type:"A",values:[b.values[0],b.values[1],b.values[2],b.values[3],b.values[4],r=s+b.values[5],d=l+b.values[6]]}),s=r,l=d):"H"===x?(f.push({type:"H",values:[r=b.values[0]]}),s=r):"h"===x?(f.push({type:"H",values:[r=s+b.values[0]]}),s=r):"V"===x?(f.push({type:"V",values:[d=b.values[0]]}),l=d):"v"===x?(f.push({type:"V",values:[d=l+b.values[0]]}),l=d):"S"===x?(f.push({type:"S",values:[b.values[0],b.values[1],r=b.values[2],d=b.values[3]]}),s=r,l=d):"s"===x?(f.push({type:"S",values:[s+b.values[0],l+b.values[1],r=s+b.values[2],d=l+b.values[3]]}),s=r,l=d):"T"===x?(f.push({type:"T",values:[r=b.values[0],d=b.values[1]]}),s=r,l=d):"t"===x?(f.push({type:"T",values:[r=s+b.values[0],d=l+b.values[1]]}),s=r,l=d):"Z"!==x&&"z"!==x||(f.push({type:"Z",values:[]}),s=y,l=m)}),f)),this[_]=u(S),S);if(this[g])return u(this[g]);var f,s,l,y,m,A=i(this.getAttribute("d")||"");return this[g]=u(A),A},t.SVGPathElement.prototype.setPathData=function(S){if(0===S.length)o?this.setAttribute("d",""):this.removeAttribute("d");else{for(var f="",s=0,l=S.length;s<l;s+=1){var y=S[s];0<s&&(f+=" "),f+=y.type,y.values&&0<y.values.length&&(f+=" "+y.values.join(" "))}this.setAttribute("d",f)}},t.SVGRectElement.prototype.getPathData=function(S){var f=this.x.baseVal.value,A=this.y.baseVal.value,s=this.width.baseVal.value,l=this.height.baseVal.value,y=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,m=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value;return A=(A=[{type:"M",values:[f+(y=s/2<y?s/2:y),A]},{type:"H",values:[f+s-y]},{type:"A",values:[y,m=l/2<m?l/2:m,0,0,1,f+s,A+m]},{type:"V",values:[A+l-m]},{type:"A",values:[y,m,0,0,1,f+s-y,A+l]},{type:"H",values:[f+y]},{type:"A",values:[y,m,0,0,1,f,A+l-m]},{type:"V",values:[A+m]},{type:"A",values:[y,m,0,0,1,f+y,A]},{type:"Z",values:[]}]).filter(function(b){return"A"!==b.type||0!==b.values[0]&&0!==b.values[1]}),S&&!0===S.normalize?p(A):A},t.SVGCircleElement.prototype.getPathData=function(S){var f=this.cx.baseVal.value,s=this.r.baseVal.value,l=[{type:"M",values:[f+s,l=this.cy.baseVal.value]},{type:"A",values:[s,s,0,0,1,f,l+s]},{type:"A",values:[s,s,0,0,1,f-s,l]},{type:"A",values:[s,s,0,0,1,f,l-s]},{type:"A",values:[s,s,0,0,1,f+s,l]},{type:"Z",values:[]}];return S&&!0===S.normalize?p(l):l},t.SVGEllipseElement.prototype.getPathData=function(S){var f=this.cx.baseVal.value,s=this.rx.baseVal.value,l=this.ry.baseVal.value,y=[{type:"M",values:[f+s,y=this.cy.baseVal.value]},{type:"A",values:[s,l,0,0,1,f,y+l]},{type:"A",values:[s,l,0,0,1,f-s,y]},{type:"A",values:[s,l,0,0,1,f,y-l]},{type:"A",values:[s,l,0,0,1,f+s,y]},{type:"Z",values:[]}];return S&&!0===S.normalize?p(y):y},t.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},t.SVGPolylineElement.prototype.getPathData=function(){for(var S=[],f=0;f<this.points.numberOfItems;f+=1){var s=this.points.getItem(f);S.push({type:0===f?"M":"L",values:[s.x,s.y]})}return S},t.SVGPolygonElement.prototype.getPathData=function(){for(var S=[],f=0;f<this.points.numberOfItems;f+=1){var s=this.points.getItem(f);S.push({type:0===f?"M":"L",values:[s.x,s.y]})}return S.push({type:"Z",values:[]}),S}}()},Wt=(Gt={},ut.m=we=[function(t,e,n){n.r(e);var o=[],i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(_){return setTimeout(_,1e3/60)},u=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(_){return clearTimeout(_)},p=Date.now(),c=void 0;function M(){var _=void 0,O=void 0;c&&(u.call(window,c),c=null),o.forEach(function(S){var f;(f=S.event)&&(S.event=null,S.listener(f),_=!0)}),_?(p=Date.now(),O=!0):Date.now()-p<500&&(O=!0),O&&(c=i.call(window,M))}function g(_){var O=-1;return o.some(function(S,f){return S.listener===_&&(O=f,!0)}),O}e.default={add:function(_){var O=void 0;return-1===g(_)?(o.push(O={listener:_}),function(S){O.event=S,c||M()}):null},remove:function(_){-1<(_=g(_))&&(o.splice(_,1),!o.length&&c&&(u.call(window,c),c=null))}}}],ut.c=Gt,ut.d=function(t,e,n){ut.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},ut.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},ut.t=function(t,e){if(1&e&&(t=ut(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(ut.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)ut.d(n,a,function(o){return t[o]}.bind(null,a));return n},ut.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return ut.d(e,"a",e),e},ut.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},ut.p="",ut(ut.s=0).default),ge={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:Et},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:Et},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:Et},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},De={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},_e=[],st={},sn=0,rt={},un=0;function ut(t){if(Gt[t])return Gt[t].exports;var e=Gt[t]={i:t,l:!1,exports:{}};return we[t].call(e.exports,e,e.exports,ut),e.l=!0,e.exports}function je(){var t=Date.now(),e=!1;Qt&&(Me.call(window,Qt),Qt=null),Ot.forEach(function(n){var a,o,i;if(n.framesStart){if((a=t-n.framesStart)>=n.duration&&n.count&&n.loopsLeft<=1)return i=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(i.value,!0,i.timeRatio,i.outputRatio),void(n.framesStart=null);if(a>n.duration){if(o=Math.floor(a/n.duration),n.count){if(o>=n.loopsLeft)return i=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(i.value,!0,i.timeRatio,i.outputRatio),void(n.framesStart=null);n.loopsLeft-=o}n.framesStart+=n.duration*o,a=t-n.framesStart}n.reverse&&(a=n.duration-a),i=n.frames[n.lastFrame=Math.round(a/Dt)],!1!==n.frameCallback(i.value,!1,i.timeRatio,i.outputRatio)?e=!0:n.framesStart=null}}),e&&(Qt=Oe.call(window,je))}function He(t,e){t.framesStart=Date.now(),null!=e&&(t.framesStart-=t.duration*(t.reverse?1-e:e)),t.loopsLeft=t.count,t.lastFrame=null,je()}function Ct(t,e){var n,a;return typeof t!=typeof e||(n=kt(t)?"obj":Array.isArray(t)?"array":"")!=(kt(e)?"obj":Array.isArray(e)?"array":"")||("obj"===n?Ct(a=Object.keys(t).sort(),Object.keys(e).sort())||a.some(function(o){return Ct(t[o],e[o])}):"array"===n?t.length!==e.length||t.some(function(o,i){return Ct(o,e[i])}):t!==e)}function ht(t){return t&&(kt(t)?Object.keys(t).reduce(function(e,n){return e[n]=ht(t[n]),e},{}):Array.isArray(t)?t.map(ht):t)}function zt(t){var e,n,a,o=1,i=t=(t+"").trim();function u(M){var c=1;return(M=Fe.exec(M))&&(c=parseFloat(M[1]),M[2]?c=0<=c&&c<=100?c/100:1:(c<0||1<c)&&(c=1)),c}return(e=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(t))?(n=e[1].toLowerCase(),a=e[2].trim().split(/\s*,\s*/),"rgba"===n&&4===a.length?(o=u(a[3]),i="rgb("+a.slice(0,3).join(", ")+")"):"hsla"===n&&4===a.length?(o=u(a[3]),i="hsl("+a.slice(0,3).join(", ")+")"):"hwb"===n&&4===a.length?(o=u(a[3]),i="hwb("+a.slice(0,3).join(", ")+")"):"gray"===n&&2===a.length?(o=u(a[1]),i="gray("+a[0]+")"):"device-cmyk"===n&&5<=a.length&&(o=u(a[4]),i="device-cmyk("+a.slice(0,4).join(", ")+")")):(e=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(t))?i=e[1]?(o=parseInt(e[2],16)/255,"#"+e[1]):(o=parseInt(e[4]+e[4],16)/255,"#"+e[3]):"transparent"===t.toLocaleLowerCase()&&(o=0),[o,i]}function jt(t){return!(!t||t.nodeType!==Node.ELEMENT_NODE||"function"!=typeof t.getBoundingClientRect)}function ee(t,e){var n,a,o,i={};if(!(o=t.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(t.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(a in n=t.getBoundingClientRect())i[a]=n[a];if(!e){if(!(o=o.defaultView))return console.error("Cannot get window that contains the element."),null;i.left+=o.pageXOffset,i.right+=o.pageXOffset,i.top+=o.pageYOffset,i.bottom+=o.pageYOffset}return i}function ve(t,e){var n,a=[],o=t;for(e=e||window;;){if(!(n=o.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(n=n.defaultView))return console.error("Cannot get window that contains the element."),null;if(n===e)break;if(!(o=n.frameElement))return console.error("`baseWindow` was not found."),null;a.unshift(o)}return a}function Ht(t,e){var n=0,a=0;return(e=ve(t,e=e||window))?e.length?(e.forEach(function(o,i){var u=ee(o,0<i);n+=u.left,a+=u.top,o=(i=o).ownerDocument.defaultView.getComputedStyle(i,""),u={left:i.clientLeft+parseFloat(o.paddingLeft),top:i.clientTop+parseFloat(o.paddingTop)},n+=u.left,a+=u.top}),(e=ee(t,!0)).left+=n,e.right+=n,e.top+=a,e.bottom+=a,e):ee(t):null}function gt(t,a){var n=t.x-a.x;return a=t.y-a.y,Math.sqrt(n*n+a*a)}function Ut(t,o,n){var a=o.x-t.x;return{x:t.x+a*n,y:t.y+(o=o.y-t.y)*n,angle:Math.atan2(o,a)/(Math.PI/180)}}function ne(t,e,n){return t=Math.atan2(t.y-e.y,e.x-t.x),{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n*-1}}function Bt(S,f,n,l,s){var i=1-s,u=(M=(g=i*i)*i)*S.x+3*g*s*f.x+3*i*(O=s*s)*n.x+(_=O*s)*l.x,p=M*S.y+3*g*s*f.y+3*i*O*n.y+_*l.y,c=S.x+2*s*(f.x-S.x)+O*(n.x-2*f.x+S.x),M=S.y+2*s*(f.y-S.y)+O*(n.y-2*f.y+S.y),g=f.x+2*s*(n.x-f.x)+O*(l.x-2*n.x+f.x),_=f.y+2*s*(n.y-f.y)+O*(l.y-2*n.y+f.y),O=i*S.x+s*f.x;return S=i*S.y+s*f.y,f=i*n.x+s*l.x,s=i*n.y+s*l.y,l=90-180*Math.atan2(c-g,M-_)/Math.PI,{x:u,y:p,fromP2:{x:c,y:M},toP1:{x:g,y:_},fromP1:{x:O,y:S},toP2:{x:f,y:s},angle:l+=180<l?-180:180}}function Zt(t,e,n,a,o){function i(_,O,S,f,s){return _*(_*(-3*O+9*S-9*f+3*s)+6*O-12*S+6*f)-3*O+3*S}var u,p,c=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],M=0,g=(o=null==o||1<o?1:o<0?0:o)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(_,O){u=i(p=g*_+g,t.x,e.x,n.x,a.x),p=i(p,t.y,e.y,n.y,a.y),p=u*u+p*p,M+=c[O]*Math.sqrt(p)}),g*M}function Ee(t,e,n,a,o){for(var i,u=.5,p=1-u;i=Zt(t,e,n,a,p),!(Math.abs(i-o)<=.01);)p+=(i<o?1:-1)*(u/=2);return p}function xe(t,e){var n;return t.forEach(function(a){a=e?a.map(function(o){return e(o={x:o.x,y:o.y}),o}):a,(n=n||[{type:"M",values:[a[0].x,a[0].y]}]).push(a.length?2===a.length?{type:"L",values:[a[1].x,a[1].y]}:{type:"C",values:[a[1].x,a[1].y,a[2].x,a[2].y,a[3].x,a[3].y]}:{type:"Z",values:[]})}),n}function Ue(t){var e=[],n=0;return t.forEach(function(a){a=(2===a.length?gt:Zt).apply(null,a),e.push(a),n+=a}),{segsLen:e,lenAll:n}}function ae(t,e){return null==t||null==e||t.length!==e.length||t.some(function(n,a){var o=e[a];return n.type!==o.type||n.values.some(function(i,u){return i!==o.values[u]})})}function nt(t,e,n){t.events[e]?t.events[e].indexOf(n)<0&&t.events[e].push(n):t.events[e]=[n]}function at(t,e,n){var a;t.events[e]&&-1<(a=t.events[e].indexOf(n))&&t.events[e].splice(a,1)}function Rt(t){he&&clearTimeout(he),_e.push(t),he=setTimeout(function(){_e.forEach(function(e){e()}),_e=[]},0)}function J(t,e){t.reflowTargets.indexOf(e)<0&&t.reflowTargets.push(e)}function Ze(t){t.reflowTargets.forEach(function(e){var n;n=e,setTimeout(function(){var a=n.parentNode,o=n.nextSibling;a.insertBefore(a.removeChild(n),o)},0)}),t.reflowTargets=[]}function Ye(t,e,n,a,o,i,u){var p;"auto-start-reverse"===n?("boolean"!=typeof qt&&(e.setAttribute("orient","auto-start-reverse"),qt=e.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),qt?e.setAttribute("orient",n):((p=o.createSVGTransform()).setRotate(180,0,0),i.transform.baseVal.appendItem(p),e.setAttribute("orient","auto"),p=!0)):(e.setAttribute("orient",n),!1===qt&&i.transform.baseVal.clear()),e=e.viewBox.baseVal,p?(e.x=-a.right,e.y=-a.bottom):(e.x=a.left,e.y=a.top),e.width=a.width,e.height=a.height,dt&&J(t,u)}function Xe(t,e){return{prop:t?"markerEnd":"markerStart",orient:e?e.noRotate?"0":t?"auto":"auto-start-reverse":null}}function lt(t,e){Object.keys(e).forEach(function(n){var a=e[n];t[n]=null!=a.iniValue?a.hasSE?[a.iniValue,a.iniValue]:a.iniValue:a.hasSE?a.hasProps?[{},{}]:[]:a.hasProps?{}:null})}function P(t,e,n,a,o){return a!==e[n]&&(e[n]=a,o&&o.forEach(function(i){i(t,a,n)}),!0)}function qe(a){function e(i,u){return i+parseFloat(u)}var n=a.getComputedStyle((o=a.document).documentElement,""),o=(a=a.getComputedStyle(o.body,""),{x:0,y:0});return"static"!==a.position?(o.x-=[n.marginLeft,n.borderLeftWidth,n.paddingLeft,a.marginLeft,a.borderLeftWidth].reduce(e,0),o.y-=[n.marginTop,n.borderTopWidth,n.paddingTop,a.marginTop,a.borderTopWidth].reduce(e,0)):"static"!==n.position&&(o.x-=[n.marginLeft,n.borderLeftWidth].reduce(e,0),o.y-=[n.marginTop,n.borderTopWidth].reduce(e,0)),o}function Qe(t){var e,n=t.document;n.getElementById($e)||(e=(new t.DOMParser).parseFromString(tn,"image/svg+xml"),n.body.appendChild(e.documentElement),ln(t,It))}function Ft(t,e){e!==t.isShown&&(!!e!=!!t.isShown&&(t.svg.style.visibility=e?"":"hidden"),t.isShown=e,t.events&&t.events.svgShow&&t.events.svgShow.forEach(function(n){n(t,e)}))}function ft(t,e){var n,a,o,i,u,p,c,M,g,_,O,S,f,s,l,y,m,A,b,N,h,C,I,r,d,x,E,L,w,H,j,D,G,W,T,V,k,U,R,$,q,Lt,Q,Z={};e.line&&(Z.line=(M=(n=t).options,_=!1,_=P(n,a=n.curStats,"line_color",M.lineColor,(g=n.events).cur_line_color)||_,_=P(n,a,"line_colorTra",zt(a.line_color)[0]<1)||_,_=P(n,a,"line_strokeWidth",M.lineSize,g.cur_line_strokeWidth)||_)),(e.plug||Z.line)&&(Z.plug=(i=(o=t).options,u=o.curStats,p=o.events,c=!1,[0,1].forEach(function(v){var z,X,mt,tt,xt,be,ke,At,Yt=i.plugSE[v];c=P(o,u.plug_enabledSE,v,Yt!==Et)||c,c=P(o,u.plug_plugSE,v,Yt)||c,c=P(o,u.plug_colorSE,v,At=i.plugColorSE[v]||u.line_color,p.cur_plug_colorSE)||c,c=P(o,u.plug_colorTraSE,v,zt(At)[0]<1)||c,Yt!==Et&&(tt=X=(z=Jt[$t[Yt]]).widthR*i.plugSizeSE[v],xt=mt=z.heightR*i.plugSizeSE[v],et&&(tt*=u.line_strokeWidth,xt*=u.line_strokeWidth),c=P(o,u.plug_markerWidthSE,v,tt)||c,c=P(o,u.plug_markerHeightSE,v,xt)||c,u.capsMaskMarker_markerWidthSE[v]=X,u.capsMaskMarker_markerHeightSE[v]=mt),u.plugOutline_plugSE[v]=u.capsMaskMarker_plugSE[v]=Yt,u.plug_enabledSE[v]?(u.position_plugOverheadSE[v]=z.overhead*(At=u.line_strokeWidth/ct.lineSize*i.plugSizeSE[v]),u.viewBox_plugBCircleSE[v]=z.bCircle*At,be=z.sideLen*At,ke=z.backLen*At):(u.position_plugOverheadSE[v]=-u.line_strokeWidth/2,u.viewBox_plugBCircleSE[v]=be=ke=0),P(o,u.attach_plugSideLenSE,v,be,p.cur_attach_plugSideLenSE),P(o,u.attach_plugBackLenSE,v,ke,p.cur_attach_plugBackLenSE),u.capsMaskAnchor_enabledSE[v]=!u.plug_enabledSE[v]}),c=P(o,u,"plug_enabled",u.plug_enabledSE[0]||u.plug_enabledSE[1])||c)),(e.lineOutline||Z.line)&&(Z.lineOutline=(g=(M=t).options,I=!1,I=P(M,_=M.curStats,"lineOutline_enabled",g.lineOutlineEnabled)||I,I=P(M,_,"lineOutline_color",g.lineOutlineColor)||I,I=P(M,_,"lineOutline_colorTra",zt(_.lineOutline_color)[0]<1)||I,I=P(M,_,"lineOutline_strokeWidth",_.line_strokeWidth-2*(g=_.line_strokeWidth*g.lineOutlineSize))||I,I=P(M,_,"lineOutline_inStrokeWidth",_.lineOutline_colorTra?_.lineOutline_strokeWidth+2*Ge:_.line_strokeWidth-g)||I)),(e.plugOutline||Z.line||Z.plug||Z.lineOutline)&&(Z.plugOutline=(S=(O=t).options,f=O.curStats,s=!1,[0,1].forEach(function(v){var z=f.plugOutline_plugSE[v],X=z!==Et?Jt[$t[z]]:null;s=P(O,f.plugOutline_enabledSE,v,S.plugOutlineEnabledSE[v]&&f.plug_enabled&&f.plug_enabledSE[v]&&!!X&&!!X.outlineBase)||s,s=P(O,f.plugOutline_colorSE,v,z=S.plugOutlineColorSE[v]||f.lineOutline_color)||s,s=P(O,f.plugOutline_colorTraSE,v,zt(z)[0]<1)||s,X&&X.outlineBase&&((z=S.plugOutlineSizeSE[v])>X.outlineMax&&(z=X.outlineMax),s=P(O,f.plugOutline_strokeWidthSE,v,z*=2*X.outlineBase)||s,s=P(O,f.plugOutline_inStrokeWidthSE,v,f.plugOutline_colorTraSE[v]?z-Ge/(f.line_strokeWidth/ct.lineSize)/S.plugSizeSE[v]*2:z/2)||s)}),s)),(e.faces||Z.line||Z.plug||Z.lineOutline||Z.plugOutline)&&(Z.faces=(m=(l=t).curStats,A=l.aplStats,b=l.events,N=!1,!m.line_altColor&&P(l,A,"line_color",y=m.line_color,b.apl_line_color)&&(l.lineFace.style.stroke=y,N=!0),P(l,A,"line_strokeWidth",y=m.line_strokeWidth,b.apl_line_strokeWidth)&&(l.lineShape.style.strokeWidth=y+"px",N=!0,(It||dt)&&(J(l,l.lineShape),dt&&(J(l,l.lineFace),J(l,l.lineMaskCaps)))),P(l,A,"lineOutline_enabled",y=m.lineOutline_enabled,b.apl_lineOutline_enabled)&&(l.lineOutlineFace.style.display=y?"inline":"none",N=!0),m.lineOutline_enabled&&(P(l,A,"lineOutline_color",y=m.lineOutline_color,b.apl_lineOutline_color)&&(l.lineOutlineFace.style.stroke=y,N=!0),P(l,A,"lineOutline_strokeWidth",y=m.lineOutline_strokeWidth,b.apl_lineOutline_strokeWidth)&&(l.lineOutlineMaskShape.style.strokeWidth=y+"px",N=!0,dt&&(J(l,l.lineOutlineMaskCaps),J(l,l.lineOutlineFace))),P(l,A,"lineOutline_inStrokeWidth",y=m.lineOutline_inStrokeWidth,b.apl_lineOutline_inStrokeWidth)&&(l.lineMaskShape.style.strokeWidth=y+"px",N=!0,dt&&(J(l,l.lineOutlineMaskCaps),J(l,l.lineOutlineFace)))),P(l,A,"plug_enabled",y=m.plug_enabled,b.apl_plug_enabled)&&(l.plugsFace.style.display=y?"inline":"none",N=!0),m.plug_enabled&&[0,1].forEach(function(v){var z=m.plug_plugSE[v],X=z!==Et?Jt[$t[z]]:null,mt=Xe(v,X);P(l,A.plug_enabledSE,v,y=m.plug_enabledSE[v],b.apl_plug_enabledSE)&&(l.plugsFace.style[mt.prop]=y?"url(#"+l.plugMarkerIdSE[v]+")":"none",N=!0),m.plug_enabledSE[v]&&(P(l,A.plug_plugSE,v,z,b.apl_plug_plugSE)&&(l.plugFaceSE[v].href.baseVal="#"+X.elmId,Ye(l,l.plugMarkerSE[v],mt.orient,X.bBox,l.svg,l.plugMarkerShapeSE[v],l.plugsFace),N=!0,It&&J(l,l.plugsFace)),P(l,A.plug_colorSE,v,y=m.plug_colorSE[v],b.apl_plug_colorSE)&&(l.plugFaceSE[v].style.fill=y,N=!0,(Tt||et||dt)&&!m.line_colorTra&&J(l,dt?l.lineMaskCaps:l.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(tt){var xt="plug_"+tt+"SE";P(l,A[xt],v,y=m[xt][v],b["apl_"+xt])&&(l.plugMarkerSE[v][tt].baseVal.value=y,N=!0)}),P(l,A.plugOutline_enabledSE,v,y=m.plugOutline_enabledSE[v],b.apl_plugOutline_enabledSE)&&(y?(l.plugFaceSE[v].style.mask="url(#"+l.plugMaskIdSE[v]+")",l.plugOutlineFaceSE[v].style.display="inline"):(l.plugFaceSE[v].style.mask="none",l.plugOutlineFaceSE[v].style.display="none"),N=!0),m.plugOutline_enabledSE[v]&&(P(l,A.plugOutline_plugSE,v,z,b.apl_plugOutline_plugSE)&&(l.plugOutlineFaceSE[v].href.baseVal=l.plugMaskShapeSE[v].href.baseVal=l.plugOutlineMaskShapeSE[v].href.baseVal="#"+X.elmId,[l.plugMaskSE[v],l.plugOutlineMaskSE[v]].forEach(function(tt){tt.x.baseVal.value=X.bBox.left,tt.y.baseVal.value=X.bBox.top,tt.width.baseVal.value=X.bBox.width,tt.height.baseVal.value=X.bBox.height}),N=!0),P(l,A.plugOutline_colorSE,v,y=m.plugOutline_colorSE[v],b.apl_plugOutline_colorSE)&&(l.plugOutlineFaceSE[v].style.fill=y,N=!0,dt&&(J(l,l.lineMaskCaps),J(l,l.lineOutlineMaskCaps))),P(l,A.plugOutline_strokeWidthSE,v,y=m.plugOutline_strokeWidthSE[v],b.apl_plugOutline_strokeWidthSE)&&(l.plugOutlineMaskShapeSE[v].style.strokeWidth=y+"px",N=!0),P(l,A.plugOutline_inStrokeWidthSE,v,y=m.plugOutline_inStrokeWidthSE[v],b.apl_plugOutline_inStrokeWidthSE)&&(l.plugMaskShapeSE[v].style.strokeWidth=y+"px",N=!0)))}),N)),(e.position||Z.line||Z.plug)&&(Z.position=function hn(t){var e,n,a,o,i,u,p,c,M,g,_,O,S,f,s=t.options,l=t.curStats,y=t.aplStats,m=l.position_socketXYSE,A=!1;function b(h,C){return(h=C===_t?{x:h.left+h.width/2,y:h.top}:C===vt?{x:h.right,y:h.top+h.height/2}:C===wt?{x:h.left+h.width/2,y:h.bottom}:{x:h.left,y:h.top+h.height/2}).socketId=C,h}function N(h){return{x:h.x,y:h.y}}if(l.position_path=s.path,l.position_lineStrokeWidth=l.line_strokeWidth,l.position_socketGravitySE=e=ht(s.socketGravitySE),n=[0,1].map(function(h){var C=s.anchorSE[h],I=t.optionIsAttach.anchorSE[h],r=!1!==I?rt[C._id]:null,d=!1!==I&&r.conf.getStrokeWidth?r.conf.getStrokeWidth(r,t):0,x=!1!==I&&r.conf.getBBoxNest?r.conf.getBBoxNest(r,t,d):Ht(C,t.baseWindow);return l.capsMaskAnchor_pathDataSE[h]=!1!==I&&r.conf.getPathData?r.conf.getPathData(r,t,d):(I=null!=(C=x).right?C.right:C.left+C.width,[{type:"M",values:[C.left,C.top]},{type:"L",values:[I,C.top]},{type:"L",values:[I,r=null!=C.bottom?C.bottom:C.top+C.height]},{type:"L",values:[C.left,r]},{type:"Z",values:[]}]),l.capsMaskAnchor_strokeWidthSE[h]=d,x}),p=-1,s.socketSE[0]&&s.socketSE[1]?(m[0]=b(n[0],s.socketSE[0]),m[1]=b(n[1],s.socketSE[1])):(s.socketSE[0]||s.socketSE[1]?(u=s.socketSE[0]?(i=0,1):(i=1,0),m[i]=b(n[i],s.socketSE[i]),(o=Se.map(function(h){return b(n[u],h)})).forEach(function(h){var C=gt(h,m[i]);(C<p||-1===p)&&(m[u]=h,p=C)})):(o=Se.map(function(h){return b(n[1],h)}),Se.map(function(h){return b(n[0],h)}).forEach(function(h){o.forEach(function(C){var I=gt(h,C);(I<p||-1===p)&&(m[0]=h,m[1]=C,p=I)})})),[0,1].forEach(function(h){var C,I;s.socketSE[h]||(n[h].width||n[h].height?n[h].width||m[h].socketId!==bt&&m[h].socketId!==vt?n[h].height||m[h].socketId!==_t&&m[h].socketId!==wt||(m[h].socketId=0<=m[h?0:1].y-n[h].top?wt:_t):m[h].socketId=0<=m[h?0:1].x-n[h].left?vt:bt:(C=m[h?0:1].x-n[h].left,I=m[h?0:1].y-n[h].top,m[h].socketId=Math.abs(C)>=Math.abs(I)?0<=C?vt:bt:0<=I?wt:_t))})),l.position_path!==y.position_path||l.position_lineStrokeWidth!==y.position_lineStrokeWidth||[0,1].some(function(h){return l.position_plugOverheadSE[h]!==y.position_plugOverheadSE[h]||(C=m[h]).x!==(I=y.position_socketXYSE[h]).x||C.y!==I.y||C.socketId!==I.socketId||(I=y.position_socketGravitySE[h],(h=null==(C=e[h])?"auto":Array.isArray(C)?"array":"number")!=(null==I?"auto":Array.isArray(I)?"array":"number")||("array"==h?C[0]!==I[0]||C[1]!==I[1]:C!==I));var C,I})){switch(t.pathList.baseVal=a=[],t.pathList.animVal=null,l.position_path){case Ve:a.push([N(m[0]),N(m[1])]);break;case Pe:O=(S=rn*((O="number"==typeof e[0]&&0<e[0]||"number"==typeof e[1]&&0<e[1])?-1:1))-(f=Math.atan2(m[1].y-m[0].y,m[1].x-m[0].x)),f=Math.PI-f-S,S=gt(m[0],m[1])/Math.sqrt(2)*te,O={x:m[0].x+Math.cos(O)*S,y:m[0].y+Math.sin(O)*S*-1},S={x:m[1].x+Math.cos(f)*S,y:m[1].y+Math.sin(f)*S*-1},a.push([N(m[0]),O,S,N(m[1])]);break;case fe:case ye:M=[e[0],l.position_path===ye?0:e[1]],g=[],_=[],m.forEach(function(h,C){var I,r=M[C],d=Array.isArray(r)?{x:r[0],y:r[1]}:"number"==typeof r?h.socketId===_t?{x:0,y:-r}:h.socketId===vt?{x:r,y:0}:h.socketId===wt?{x:0,y:r}:{x:-r,y:0}:(I=m[C?0:1],r=0<(r=l.position_plugOverheadSE[C])?an+(Re<r?(r-Re)*on:0):en+(l.position_lineStrokeWidth>Be?(l.position_lineStrokeWidth-Be)*nn:0),h.socketId===_t?{x:0,y:-(d=(d=(h.y-I.y)/2)<r?r:d)}:h.socketId===vt?{x:d=(d=(I.x-h.x)/2)<r?r:d,y:0}:h.socketId===wt?{x:0,y:d=(d=(I.y-h.y)/2)<r?r:d}:{x:-(d=(d=(h.x-I.x)/2)<r?r:d),y:0});g[C]=h.x+d.x,_[C]=h.y+d.y}),a.push([N(m[0]),{x:g[0],y:_[0]},{x:g[1],y:_[1]},N(m[1])]);break;case Ne:!function(){var h,C=1,I=2,r=3,d=4,x=[[],[]],E=[];function L(V){return V===C?r:V===I?d:V===r?C:I}function w(V){return V===I||V===d?"x":"y"}function H(V,k,U){var R={x:V.x,y:V.y};if(U){if(U===L(V.dirId))throw new Error("Invalid dirId: "+U);R.dirId=U}else R.dirId=V.dirId;return R.dirId===C?R.y-=k:R.dirId===I?R.x+=k:R.dirId===r?R.y+=k:R.x-=k,R}function j(V,k){return k.dirId===C?V.y<=k.y:k.dirId===I?V.x>=k.x:k.dirId===r?V.y>=k.y:V.x<=k.x}function D(V,k){return k.dirId===C||k.dirId===r?V.x===k.x:V.y===k.y}function G(V){return V[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function W(V,k,U){return Math.abs(k[U]-V[U])}function T(V,k,U){return"x"===U?V.x<k.x?I:d:V.y<k.y?r:C}for(m.forEach(function(V,k){var U=N(V),R=e[k];V=Array.isArray(R)?R[0]<0?[d,-R[0]]:0<R[0]?[I,R[0]]:R[1]<0?[C,-R[1]]:0<R[1]?[r,R[1]]:[V.socketId,0]:"number"!=typeof R?[V.socketId,St]:0<=R?[V.socketId,R]:[L(V.socketId),-R],U.dirId=V[0],R=V[1],x[k].push(U),E[k]=H(U,R)});function(){var V,k,U,R,$=[j(E[1],E[0]),j(E[0],E[1])],q=[w(E[0].dirId),w(E[1].dirId)];if(q[0]===q[1]){if($[0]&&$[1])return void(D(E[1],E[0])||(E[0][q[0]]===E[1][q[1]]?(x[0].push(E[0]),x[1].push(E[1])):(V=E[0][q[0]]+(E[1][q[1]]-E[0][q[0]])/2,x[0].push(H(E[0],Math.abs(V-E[0][q[0]]))),x[1].push(H(E[1],Math.abs(V-E[1][q[1]]))))));$[0]!==$[1]?(k=G($),(U=W(E[k.notContain],E[k.contain],q[k.notContain]))<St&&(E[k.notContain]=H(E[k.notContain],St-U)),x[k.notContain].push(E[k.notContain]),E[k.notContain]=H(E[k.notContain],St,D(E[k.contain],E[k.notContain])?"x"===q[k.notContain]?r:I:T(E[k.notContain],E[k.contain],"x"===q[k.notContain]?"y":"x"))):(U=W(E[0],E[1],"x"===q[0]?"y":"x"),x.forEach(function(Lt,Q){var Z=0===Q?1:0;Lt.push(E[Q]),E[Q]=H(E[Q],St,2*St<=U?T(E[Q],E[Z],"x"===q[Q]?"y":"x"):"x"===q[Q]?r:I)}))}else{if($[0]&&$[1])return void(D(E[1],E[0])?x[1].push(E[1]):D(E[0],E[1])?x[0].push(E[0]):x[0].push("x"===q[0]?{x:E[1].x,y:E[0].y}:{x:E[0].x,y:E[1].y}));$[0]!==$[1]?(k=G($),x[k.notContain].push(E[k.notContain]),E[k.notContain]=H(E[k.notContain],St,W(E[k.notContain],E[k.contain],q[k.contain])>=St?T(E[k.notContain],E[k.contain],q[k.contain]):E[k.contain].dirId)):(R=[{x:E[0].x,y:E[0].y},{x:E[1].x,y:E[1].y}],x.forEach(function(Lt,Q){var Z=0===Q?1:0,v=W(R[Q],R[Z],q[Q]);v<St&&(E[Q]=H(E[Q],St-v)),Lt.push(E[Q]),E[Q]=H(E[Q],St,T(E[Q],E[Z],q[Z]))}))}return 1}(););x[1].reverse(),x[0].concat(x[1]).forEach(function(V,k){V={x:V.x,y:V.y},0<k&&a.push([h,V]),h=V})}()}c=[],l.position_plugOverheadSE.forEach(function(h,C){var I,r,d,x,E,L,w,H,j,D=!C;0<h?2===(I=a[r=D?0:a.length-1]).length?(c[r]=c[r]||gt.apply(null,I),c[r]>Nt&&(c[r]-h<Nt&&(h=c[r]-Nt),w=Ut(I[0],I[1],(D?h:c[r]-h)/c[r]),a[r]=D?[w,I[1]]:[I[0],w],c[r]-=h)):(c[r]=c[r]||Zt.apply(null,I),c[r]>Nt&&(c[r]-h<Nt&&(h=c[r]-Nt),w=Bt(I[0],I[1],I[2],I[3],Ee(I[0],I[1],I[2],I[3],D?h:c[r]-h)),x=D?(d=I[0],w.toP1):(d=I[3],w.fromP2),E=Math.atan2(d.y-w.y,w.x-d.x),L=gt(w,x),w.x=d.x+Math.cos(E)*h,w.y=d.y+Math.sin(E)*h*-1,x.x=w.x+Math.cos(E)*L,x.y=w.y+Math.sin(E)*L*-1,a[r]=D?[w,w.toP1,w.toP2,I[3]]:[I[0],w.fromP1,w.fromP2,w],c[r]=null)):h<0&&(I=a[r=D?0:a.length-1],C=-n[C]["x"==(H=(w=m[C].socketId)===bt||w===vt?"x":"y")?"width":"height"],j=(h=h<C?C:h)*(w===bt||w===_t?-1:1),2===I.length?I[D?0:I.length-1][H]+=j:(D?[0,1]:[I.length-2,I.length-1]).forEach(function(G){I[G][H]+=j}),c[r]=null)}),y.position_socketXYSE=ht(m),y.position_plugOverheadSE=ht(l.position_plugOverheadSE),y.position_path=l.position_path,y.position_lineStrokeWidth=l.position_lineStrokeWidth,y.position_socketGravitySE=ht(e),A=!0,t.events.apl_position&&t.events.apl_position.forEach(function(h){h(t,a)})}return A}(t)),(e.path||Z.position)&&(Z.path=(I=(h=t).curStats,E=h.aplStats,r=I.path_edge,L=!1,(x=h.pathList.animVal||h.pathList.baseVal)&&(r.x1=r.x2=x[0][0].x,r.y1=r.y2=x[0][0].y,I.path_pathData=C=xe(x,function(v){v.x<r.x1&&(r.x1=v.x),v.y<r.y1&&(r.y1=v.y),v.x>r.x2&&(r.x2=v.x),v.y>r.y2&&(r.y2=v.y)}),ae(C,E.path_pathData)&&(h.linePath.setPathData(C),E.path_pathData=C,L=!0,dt?(J(h,h.plugsFace),J(h,h.lineMaskCaps)):It&&J(h,h.linePath),h.events.apl_path&&h.events.apl_path.forEach(function(v){v(h,C)}))),L)),Z.viewBox=(L=(x=(d=t).curStats).path_edge,w=x.viewBox_bBox,H=(E=d.aplStats).viewBox_bBox,j=d.svg.viewBox.baseVal,D=d.svg.style,G=!1,E=Math.max(x.line_strokeWidth/2,x.viewBox_plugBCircleSE[0]||0,x.viewBox_plugBCircleSE[1]||0),W={x1:L.x1-E,y1:L.y1-E,x2:L.x2+E,y2:L.y2+E},d.events.new_edge4viewBox&&d.events.new_edge4viewBox.forEach(function(v){v(d,W)}),w.x=x.lineMask_x=x.lineOutlineMask_x=x.maskBGRect_x=W.x1,w.y=x.lineMask_y=x.lineOutlineMask_y=x.maskBGRect_y=W.y1,w.width=W.x2-W.x1,w.height=W.y2-W.y1,["x","y","width","height"].forEach(function(v){var z;(z=w[v])!==H[v]&&(j[v]=H[v]=z,D[We[v]]=z+("x"===v||"y"===v?d.bodyOffset[v]:0)+"px",G=!0)}),G),Z.mask=(k=(T=t).curStats,U=T.aplStats,R=!1,k.plug_enabled?[0,1].forEach(function(v){k.capsMaskMarker_enabledSE[v]=k.plug_enabledSE[v]&&k.plug_colorTraSE[v]||k.plugOutline_enabledSE[v]&&k.plugOutline_colorTraSE[v]}):k.capsMaskMarker_enabledSE[0]=k.capsMaskMarker_enabledSE[1]=!1,k.capsMaskMarker_enabled=k.capsMaskMarker_enabledSE[0]||k.capsMaskMarker_enabledSE[1],k.lineMask_outlineMode=k.lineOutline_enabled,k.caps_enabled=k.capsMaskMarker_enabled||k.capsMaskAnchor_enabledSE[0]||k.capsMaskAnchor_enabledSE[1],k.lineMask_enabled=k.caps_enabled||k.lineMask_outlineMode,(k.lineMask_enabled&&!k.lineMask_outlineMode||k.lineOutline_enabled)&&["x","y"].forEach(function(v){var z="maskBGRect_"+v;P(T,U,z,V=k[z])&&(T.maskBGRect[v].baseVal.value=V,R=!0)}),P(T,U,"lineMask_enabled",V=k.lineMask_enabled)&&(T.lineFace.style.mask=V?"url(#"+T.lineMaskId+")":"none",R=!0,et&&J(T,T.lineMask)),k.lineMask_enabled&&(P(T,U,"lineMask_outlineMode",V=k.lineMask_outlineMode)&&(V?(T.lineMaskBG.style.display="none",T.lineMaskShape.style.display="inline"):(T.lineMaskBG.style.display="inline",T.lineMaskShape.style.display="none"),R=!0),["x","y"].forEach(function(v){var z="lineMask_"+v;P(T,U,z,V=k[z])&&(T.lineMask[v].baseVal.value=V,R=!0)}),P(T,U,"caps_enabled",V=k.caps_enabled)&&(T.lineMaskCaps.style.display=T.lineOutlineMaskCaps.style.display=V?"inline":"none",R=!0,et&&J(T,T.capsMaskLine)),k.caps_enabled&&([0,1].forEach(function(v){var z;P(T,U.capsMaskAnchor_enabledSE,v,V=k.capsMaskAnchor_enabledSE[v])&&(T.capsMaskAnchorSE[v].style.display=V?"inline":"none",R=!0,et&&J(T,T.lineMask)),k.capsMaskAnchor_enabledSE[v]&&(ae(z=k.capsMaskAnchor_pathDataSE[v],U.capsMaskAnchor_pathDataSE[v])&&(T.capsMaskAnchorSE[v].setPathData(z),U.capsMaskAnchor_pathDataSE[v]=z,R=!0),P(T,U.capsMaskAnchor_strokeWidthSE,v,V=k.capsMaskAnchor_strokeWidthSE[v])&&(T.capsMaskAnchorSE[v].style.strokeWidth=V+"px",R=!0))}),P(T,U,"capsMaskMarker_enabled",V=k.capsMaskMarker_enabled)&&(T.capsMaskLine.style.display=V?"inline":"none",R=!0),k.capsMaskMarker_enabled&&[0,1].forEach(function(v){var z=k.capsMaskMarker_plugSE[v],X=z!==Et?Jt[$t[z]]:null,mt=Xe(v,X);P(T,U.capsMaskMarker_enabledSE,v,V=k.capsMaskMarker_enabledSE[v])&&(T.capsMaskLine.style[mt.prop]=V?"url(#"+T.lineMaskMarkerIdSE[v]+")":"none",R=!0),k.capsMaskMarker_enabledSE[v]&&(P(T,U.capsMaskMarker_plugSE,v,z)&&(T.capsMaskMarkerShapeSE[v].href.baseVal="#"+X.elmId,Ye(T,T.capsMaskMarkerSE[v],mt.orient,X.bBox,T.svg,T.capsMaskMarkerShapeSE[v],T.capsMaskLine),R=!0,It&&(J(T,T.capsMaskLine),J(T,T.lineFace))),["markerWidth","markerHeight"].forEach(function(tt){var xt="capsMaskMarker_"+tt+"SE";P(T,U[xt],v,V=k[xt][v])&&(T.capsMaskMarkerSE[v][tt].baseVal.value=V,R=!0)}))}))),k.lineOutline_enabled&&["x","y"].forEach(function(v){var z="lineOutlineMask_"+v;P(T,U,z,V=k[z])&&(T.lineOutlineMask[v].baseVal.value=V,R=!0)}),R),e.effect&&(Lt=($=t).curStats,Q=$.aplStats,Object.keys(Y).forEach(function(tt){var z=Y[tt],X=tt+"_enabled",mt=tt+"_options";tt=Lt[mt],P($,Q,X,q=Lt[X])?(q&&(Q[mt]=ht(tt)),z[q?"init":"remove"]($)):q&&Ct(tt,Q[mt])&&(z.remove($),Q[X]=!0,Q[mt]=ht(tt),z.init($))})),(Tt||et)&&Z.line&&!Z.path&&J(t,t.lineShape),Tt&&Z.plug&&!Z.line&&J(t,t.plugsFace),Ze(t)}function ie(t,e){return{duration:(pt(t.duration)&&0<t.duration?t:e).duration,timing:it.validTiming(t.timing)?t.timing:ht(e.timing)}}function oe(t,e,n,a){var o=t.curStats,i=t.aplStats,u={};function p(){["show_on","show_effect","show_animOptions"].forEach(function(c){i[c]=o[c]})}o.show_on=e,n&&K[n]&&(o.show_effect=n,o.show_animOptions=ie(kt(a)?a:{},K[n].defaultAnimOptions)),u.show_on=o.show_on!==i.show_on,u.show_effect=o.show_effect!==i.show_effect,u.show_animOptions=Ct(o.show_animOptions,i.show_animOptions),u.show_effect||u.show_animOptions?o.show_inAnim?(n=u.show_effect?K[i.show_effect].stop(t,!0,!0):K[i.show_effect].stop(t),p(),K[i.show_effect].init(t,n)):u.show_on&&(i.show_effect&&u.show_effect&&K[i.show_effect].stop(t,!0,!0),p(),K[i.show_effect].init(t)):u.show_on&&(p(),K[i.show_effect].start(t))}function Ke(t,e,n){return n={props:t,optionName:n},t.attachments.indexOf(e)<0&&(!e.conf.bind||e.conf.bind(e,n))&&(t.attachments.push(e),e.boundTargets.push(n),1)}function re(t,e,n){var a=t.attachments.indexOf(e);-1<a&&t.attachments.splice(a,1),e.boundTargets.some(function(o,i){return o.props===t&&(e.conf.unbind&&e.conf.unbind(e,o),a=i,!0)})&&(e.boundTargets.splice(a,1),n||Rt(function(){e.boundTargets.length||ue(e)}))}function le(t,e){var n,a,o,i,u,p,c,M,g,_,O,S,f,s,l,y=t.options,m={};function A(r,d,x,E,L){var w={};return x?null!=E?(w.container=r[x],w.key=E):(w.container=r,w.key=x):(w.container=r,w.key=d),w.default=L,w.acceptsAuto=null==w.default,w}function b(r,d,x,E,L,w,W){var j,D,G;return W=A(r,x,L,w,W),null!=d[x]&&(D=(d[x]+"").toLowerCase())&&(W.acceptsAuto&&D===Mt||(G=E[D]))&&G!==W.container[W.key]&&(W.container[W.key]=G,j=!0),null!=W.container[W.key]||W.acceptsAuto||(W.container[W.key]=W.default,j=!0),j}function N(r,d,x,E,L,w,k,j,D){var G,W,T,V;if(k=A(r,x,L,w,k),!E){if(null==k.default)throw new Error("Invalid `type`: "+x);E=typeof k.default}return null!=d[x]&&(k.acceptsAuto&&(d[x]+"").toLowerCase()===Mt||(T=W=d[x],("number"===(V=E)?pt(T):typeof T===V)&&(W=D&&"string"===E&&W?W.trim():W,1)&&(!j||j(W))))&&W!==k.container[k.key]&&(k.container[k.key]=W,G=!0),null!=k.container[k.key]||k.acceptsAuto||(k.container[k.key]=k.default,G=!0),G}if(e=e||{},["start","end"].forEach(function(r,d){var x=e[r],E=!1;if(x&&(jt(x)||(E=Xt(x,"anchor")))&&x!==y.anchorSE[d]){if(!1!==t.optionIsAttach.anchorSE[d]&&re(t,rt[y.anchorSE[d]._id]),E&&!Ke(t,rt[x._id],r))throw new Error("Can't bind attachment");y.anchorSE[d]=x,t.optionIsAttach.anchorSE[d]=E,n=m.position=!0}}),!y.anchorSE[0]||!y.anchorSE[1]||y.anchorSE[0]===y.anchorSE[1])throw new Error("`start` and `end` are required.");function h(r){var d=u.appendChild(s.createElementNS(F,"mask"));return d.id=r,d.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[d.x,d.y,d.width,d.height].forEach(function(x){x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),d}function C(r){var d=u.appendChild(s.createElementNS(F,"marker"));return d.id=r,d.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,d.viewBox.baseVal||d.setAttribute("viewBox","0 0 0 0"),d}function I(r){return[r.width,r.height].forEach(function(d){d.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),r}n&&(O=function(r,d){var x,E;if(!(r=ve(r))||!(x=ve(d)))throw new Error("Cannot get frames.");return r.length&&x.length&&(r.reverse(),x.reverse(),r.some(function(L){return x.some(function(w){return w===L&&(E=w.contentWindow,!0)})})),E||window}(!1!==t.optionIsAttach.anchorSE[0]?rt[y.anchorSE[0]._id].element:y.anchorSE[0],!1!==t.optionIsAttach.anchorSE[1]?rt[y.anchorSE[1]._id].element:y.anchorSE[1]))!==t.baseWindow&&(f=(a=t).aplStats,s=(o=O).document,l=ot+"-"+a._id,a.pathList={},lt(f,ge),Object.keys(Y).forEach(function(r){var d=r+"_enabled";f[d]&&(Y[r].remove(a),f[d]=!1)}),a.baseWindow&&a.svg&&a.baseWindow.document.body.removeChild(a.svg),Qe(a.baseWindow=o),a.bodyOffset=qe(o),a.svg=i=s.createElementNS(F,"svg"),i.className.baseVal=ot,i.viewBox.baseVal||i.setAttribute("viewBox","0 0 0 0"),a.defs=u=i.appendChild(s.createElementNS(F,"defs")),a.linePath=c=u.appendChild(s.createElementNS(F,"path")),c.id=M=l+"-line-path",c.className.baseVal=ot+"-line-path",et&&(c.style.fill="none"),a.lineShape=c=u.appendChild(s.createElementNS(F,"use")),c.id=g=l+"-line-shape",c.href.baseVal="#"+M,(p=u.appendChild(s.createElementNS(F,"g"))).id=_=l+"-caps",a.capsMaskAnchorSE=[0,1].map(function(){var r=p.appendChild(s.createElementNS(F,"path"));return r.className.baseVal=ot+"-caps-mask-anchor",r}),a.lineMaskMarkerIdSE=[l+"-caps-mask-marker-0",l+"-caps-mask-marker-1"],a.capsMaskMarkerSE=[0,1].map(function(r){return C(a.lineMaskMarkerIdSE[r])}),a.capsMaskMarkerShapeSE=[0,1].map(function(r){return(r=a.capsMaskMarkerSE[r].appendChild(s.createElementNS(F,"use"))).className.baseVal=ot+"-caps-mask-marker-shape",r}),a.capsMaskLine=c=p.appendChild(s.createElementNS(F,"use")),c.className.baseVal=ot+"-caps-mask-line",c.href.baseVal="#"+g,a.maskBGRect=c=I(u.appendChild(s.createElementNS(F,"rect"))),c.id=O=l+"-mask-bg-rect",c.className.baseVal=ot+"-mask-bg-rect",et&&(c.style.fill="white"),a.lineMask=I(h(a.lineMaskId=l+"-line-mask")),a.lineMaskBG=c=a.lineMask.appendChild(s.createElementNS(F,"use")),c.href.baseVal="#"+O,a.lineMaskShape=c=a.lineMask.appendChild(s.createElementNS(F,"use")),c.className.baseVal=ot+"-line-mask-shape",c.href.baseVal="#"+M,c.style.display="none",a.lineMaskCaps=c=a.lineMask.appendChild(s.createElementNS(F,"use")),c.href.baseVal="#"+_,a.lineOutlineMask=I(h(o=l+"-line-outline-mask")),(c=a.lineOutlineMask.appendChild(s.createElementNS(F,"use"))).href.baseVal="#"+O,a.lineOutlineMaskShape=c=a.lineOutlineMask.appendChild(s.createElementNS(F,"use")),c.className.baseVal=ot+"-line-outline-mask-shape",c.href.baseVal="#"+M,a.lineOutlineMaskCaps=c=a.lineOutlineMask.appendChild(s.createElementNS(F,"use")),c.href.baseVal="#"+_,a.face=i.appendChild(s.createElementNS(F,"g")),a.lineFace=c=a.face.appendChild(s.createElementNS(F,"use")),c.href.baseVal="#"+g,a.lineOutlineFace=c=a.face.appendChild(s.createElementNS(F,"use")),c.href.baseVal="#"+g,c.style.mask="url(#"+o+")",c.style.display="none",a.plugMaskIdSE=[l+"-plug-mask-0",l+"-plug-mask-1"],a.plugMaskSE=[0,1].map(function(r){return h(a.plugMaskIdSE[r])}),a.plugMaskShapeSE=[0,1].map(function(r){return(r=a.plugMaskSE[r].appendChild(s.createElementNS(F,"use"))).className.baseVal=ot+"-plug-mask-shape",r}),S=[],a.plugOutlineMaskSE=[0,1].map(function(r){return h(S[r]=l+"-plug-outline-mask-"+r)}),a.plugOutlineMaskShapeSE=[0,1].map(function(r){return(r=a.plugOutlineMaskSE[r].appendChild(s.createElementNS(F,"use"))).className.baseVal=ot+"-plug-outline-mask-shape",r}),a.plugMarkerIdSE=[l+"-plug-marker-0",l+"-plug-marker-1"],a.plugMarkerSE=[0,1].map(function(r){return r=C(a.plugMarkerIdSE[r]),et&&(r.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),r}),a.plugMarkerShapeSE=[0,1].map(function(r){return a.plugMarkerSE[r].appendChild(s.createElementNS(F,"g"))}),a.plugFaceSE=[0,1].map(function(r){return a.plugMarkerShapeSE[r].appendChild(s.createElementNS(F,"use"))}),a.plugOutlineFaceSE=[0,1].map(function(r){var d=a.plugMarkerShapeSE[r].appendChild(s.createElementNS(F,"use"));return d.style.mask="url(#"+S[r]+")",d.style.display="none",d}),a.plugsFace=c=a.face.appendChild(s.createElementNS(F,"use")),c.className.baseVal=ot+"-plugs-face",c.href.baseVal="#"+g,c.style.display="none",a.curStats.show_inAnim?(a.isShown=1,K[f.show_effect].stop(a,!0)):a.isShown||(i.style.visibility="hidden"),s.body.appendChild(i),[0,1,2].forEach(function(x){var d;(x=a.options.labelSEM[x])&&Xt(x,"label")&&(d=rt[x._id]).conf.initSvg&&d.conf.initSvg(d,a)}),m.line=m.plug=m.lineOutline=m.plugOutline=m.faces=m.effect=!0),m.position=b(y,e,"path",Te,null,null,ct.path)||m.position,m.position=b(y,e,"startSocket",Kt,"socketSE",0)||m.position,m.position=b(y,e,"endSocket",Kt,"socketSE",1)||m.position,[e.startSocketGravity,e.endSocketGravity].forEach(function(r,d){var x,E,L=!1;null!=r&&(Array.isArray(r)?pt(r[0])&&pt(r[1])&&(L=[r[0],r[1]],Array.isArray(y.socketGravitySE[d])&&(x=L).length===(E=y.socketGravitySE[d]).length&&x.every(function(w,H){return w===E[H]})&&(L=!1)):((r+"").toLowerCase()===Mt?L=null:pt(r)&&0<=r&&(L=r),L===y.socketGravitySE[d]&&(L=!1)),!1!==L&&(y.socketGravitySE[d]=L,m.position=!0))}),m.line=N(y,e,"color",null,"lineColor",null,ct.lineColor,null,!0)||m.line,m.line=N(y,e,"size",null,"lineSize",null,ct.lineSize,function(r){return 0<r})||m.line,["startPlug","endPlug"].forEach(function(r,d){m.plug=b(y,e,r,me,"plugSE",d,ct.plugSE[d])||m.plug,m.plug=N(y,e,r+"Color","string","plugColorSE",d,null,null,!0)||m.plug,m.plug=N(y,e,r+"Size",null,"plugSizeSE",d,ct.plugSizeSE[d],function(x){return 0<x})||m.plug}),m.lineOutline=N(y,e,"outline",null,"lineOutlineEnabled",null,ct.lineOutlineEnabled)||m.lineOutline,m.lineOutline=N(y,e,"outlineColor",null,"lineOutlineColor",null,ct.lineOutlineColor,null,!0)||m.lineOutline,m.lineOutline=N(y,e,"outlineSize",null,"lineOutlineSize",null,ct.lineOutlineSize,function(r){return 0<r&&r<=.48})||m.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(r,d){m.plugOutline=N(y,e,r,null,"plugOutlineEnabledSE",d,ct.plugOutlineEnabledSE[d])||m.plugOutline,m.plugOutline=N(y,e,r+"Color","string","plugOutlineColorSE",d,null,null,!0)||m.plugOutline,m.plugOutline=N(y,e,r+"Size",null,"plugOutlineSizeSE",d,ct.plugOutlineSizeSE[d],function(x){return 1<=x})||m.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(r,d){var x,E,L,w=e[r],H=y.labelSEM[d]&&!t.optionIsAttach.labelSEM[d]?rt[y.labelSEM[d]._id].text:y.labelSEM[d],j=!1;if((x="string"==typeof w)&&(w=w.trim()),(x||w&&(j=Xt(w,"label")))&&w!==H){if(y.labelSEM[d]&&(re(t,rt[y.labelSEM[d]._id]),y.labelSEM[d]=""),w){if(j?(E=rt[(L=w)._id]).boundTargets.slice().forEach(function(D){E.conf.removeOption(E,D)}):L=new Vt(B.captionLabel,[w]),!Ke(t,rt[L._id],r))throw new Error("Can't bind attachment");y.labelSEM[d]=L}t.optionIsAttach.labelSEM[d]=j}}),Object.keys(Y).forEach(function(r){var d,x,E=Y[r],L=r+"_enabled",w=r+"_options";function H(D){var G={};return E.optionsConf.forEach(function(W){var T=W[0],V=W[3];null==W[4]||G[V]||(G[V]=[]),("function"==typeof T?T:"id"===T?b:N).apply(null,[G,D].concat(W.slice(1)))}),G}function j(D){var G,W=r+"_animOptions";return D.hasOwnProperty("animation")?kt(D.animation)?G=t.curStats[W]=ie(D.animation,E.defaultAnimOptions):t.curStats[W]=(G=!!D.animation)?ie({},E.defaultAnimOptions):null:t.curStats[W]=(G=!!E.defaultEnabled)?ie({},E.defaultAnimOptions):null,G}e.hasOwnProperty(r)&&(kt(d=e[r])?(t.curStats[L]=!0,x=t.curStats[w]=H(d),E.anim&&(t.curStats[w].animation=j(d))):(x=t.curStats[L]=!!d)&&(t.curStats[w]=H({}),E.anim&&(t.curStats[w].animation=j({}))),Ct(x,y[r])&&(y[r]=x,m.effect=!0))}),ft(t,m)}function yt(t,e,n){var a={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};lt(a.curStats,ge),lt(a.aplStats,ge),Object.keys(Y).forEach(function(o){var i=Y[o].stats;lt(a.curStats,i),lt(a.aplStats,i),a.options[o]=!1}),lt(a.curStats,De),lt(a.aplStats,De),a.curStats.show_effect="fade",a.curStats.show_animOptions=ht(K.fade.defaultAnimOptions),Object.defineProperty(this,"_id",{value:++sn}),a._id=this._id,st[this._id]=a,1===arguments.length&&(n=t,t=null),n=n||{},(t||e)&&(n=ht(n),t&&(n.start=t),e&&(n.end=e)),a.isShown=a.aplStats.show_on=!n.hide,this.setOptions(n)}function se(t){return function(e){var n={};n[t]=e,this.setOptions(n)}}function Je(t,e){var n,a={conf:t,curStats:{},aplStats:{},boundTargets:[]},o={};t.argOptions.every(function(i){return!(!e.length||("string"==typeof i.type?typeof e[0]!==i.type:"function"!=typeof i.type||!i.type(e[0]))||(o[i.optionName]=e.shift(),0))}),n=e.length&&kt(e[0])?ht(e[0]):{},Object.keys(o).forEach(function(i){n[i]=o[i]}),t.stats&&(lt(a.curStats,t.stats),lt(a.aplStats,t.stats)),Object.defineProperty(this,"_id",{value:++un}),Object.defineProperty(this,"isRemoved",{get:function(){return!rt[this._id]}}),a._id=this._id,t.init&&!t.init(a,n)||(rt[this._id]=a)}return Y={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(t){return 0<t}],["type","gap","number",null,null,null,function(t){return 0<t}]],init:function(t){nt(t,"apl_line_strokeWidth",Y.dash.update),t.lineFace.style.strokeDashoffset=0,Y.dash.update(t)},remove:function(t){var e=t.curStats;at(t,"apl_line_strokeWidth",Y.dash.update),e.dash_animId&&(it.remove(e.dash_animId),e.dash_animId=null),t.lineFace.style.strokeDasharray="none",t.lineFace.style.strokeDashoffset=0,lt(t.aplStats,Y.dash.stats)},update:function(t){var e,n=t.curStats,a=t.aplStats,o=a.dash_options,i=!1;n.dash_len=o.len||2*a.line_strokeWidth,n.dash_gap=o.gap||a.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,i=P(t,a,"dash_len",n.dash_len)||i,(i=P(t,a,"dash_gap",n.dash_gap)||i)&&(t.lineFace.style.strokeDasharray=a.dash_len+","+a.dash_gap),n.dash_animOptions?(i=P(t,a,"dash_maxOffset",n.dash_maxOffset),a.dash_animOptions&&(i||Ct(n.dash_animOptions,a.dash_animOptions))&&(n.dash_animId&&(e=it.stop(n.dash_animId),it.remove(n.dash_animId)),a.dash_animOptions=null),a.dash_animOptions||(n.dash_animId=it.add(function(u){return(1-u)*a.dash_maxOffset+"px"},function(u){t.lineFace.style.strokeDashoffset=u},n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,e),a.dash_animOptions=ht(n.dash_animOptions))):a.dash_animOptions&&(n.dash_animId&&(it.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDashoffset=0,a.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(t){var e=t.baseWindow.document,n=t.defs,a=ot+"-"+t._id+"-gradient";t.efc_gradient_gradient=n=n.appendChild(e.createElementNS(F,"linearGradient")),n.id=a,n.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[n.x1,n.y1,n.x2,n.y2].forEach(function(o){o.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),t.efc_gradient_stopSE=[0,1].map(function(o){var i=t.efc_gradient_gradient.appendChild(e.createElementNS(F,"stop"));try{i.offset.baseVal=o}catch(u){if(u.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw u;i.setAttribute("offset",o)}return i}),nt(t,"cur_plug_colorSE",Y.gradient.update),nt(t,"apl_path",Y.gradient.update),t.curStats.line_altColor=!0,t.lineFace.style.stroke="url(#"+a+")",Y.gradient.update(t)},remove:function(t){t.efc_gradient_gradient&&(t.defs.removeChild(t.efc_gradient_gradient),t.efc_gradient_gradient=t.efc_gradient_stopSE=null),at(t,"cur_plug_colorSE",Y.gradient.update),at(t,"apl_path",Y.gradient.update),t.curStats.line_altColor=!1,t.lineFace.style.stroke=t.curStats.line_color,lt(t.aplStats,Y.gradient.stats)},update:function(t){var e,n=t.curStats,a=t.aplStats,o=a.gradient_options,i=t.pathList.animVal||t.pathList.baseVal;[0,1].forEach(function(u){n.gradient_colorSE[u]=o.colorSE[u]||n.plug_colorSE[u]}),n.gradient_pointSE[0]={x:(e=i[0][0]).x,y:e.y},e=(i=i[i.length-1])[i.length-1],n.gradient_pointSE[1]={x:e.x,y:e.y},[0,1].forEach(function(u){var p;P(t,a.gradient_colorSE,u,p=n.gradient_colorSE[u])&&(et?(p=zt(p),t.efc_gradient_stopSE[u].style.stopColor=p[1],t.efc_gradient_stopSE[u].style.stopOpacity=p[0]):t.efc_gradient_stopSE[u].style.stopColor=p),["x","y"].forEach(function(c){(p=n.gradient_pointSE[u][c])!==a.gradient_pointSE[u][c]&&(t.efc_gradient_gradient[c+(u+1)].baseVal.value=a.gradient_pointSE[u][c]=p)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(t){return 0<=t}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(t){return 0<=t&&t<=1}]],init:function(t){var e,n,a,o,i=t.baseWindow.document,u=t.defs,p=ot+"-"+t._id+"-dropShadow",c=(e=i,n=p,o={},"boolean"!=typeof pe&&(pe=!!window.SVGFEDropShadowElement&&!et),o.elmsAppend=[o.elmFilter=i=e.createElementNS(F,"filter")],i.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,i.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),i.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),i.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),i.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),i.id=n,pe?(o.elmOffset=o.elmBlur=a=i.appendChild(e.createElementNS(F,"feDropShadow")),o.styleFlood=a.style):(o.elmBlur=i.appendChild(e.createElementNS(F,"feGaussianBlur")),o.elmOffset=a=i.appendChild(e.createElementNS(F,"feOffset")),a.result.baseVal="offsetblur",a=i.appendChild(e.createElementNS(F,"feFlood")),o.styleFlood=a.style,(a=i.appendChild(e.createElementNS(F,"feComposite"))).in2.baseVal="offsetblur",a.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(a=i.appendChild(e.createElementNS(F,"feMerge"))).appendChild(e.createElementNS(F,"feMergeNode")),a.appendChild(e.createElementNS(F,"feMergeNode")).in1.baseVal="SourceGraphic"),o);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(M){t["efc_dropShadow_"+M]=c[M]}),c.elmsAppend.forEach(function(M){u.appendChild(M)}),t.face.setAttribute("filter","url(#"+p+")"),nt(t,"new_edge4viewBox",Y.dropShadow.adjustEdge),Y.dropShadow.update(t)},remove:function(t){var e=t.defs;t.efc_dropShadow_elmsAppend&&(t.efc_dropShadow_elmsAppend.forEach(function(n){e.removeChild(n)}),t.efc_dropShadow_elmFilter=t.efc_dropShadow_elmOffset=t.efc_dropShadow_elmBlur=t.efc_dropShadow_styleFlood=t.efc_dropShadow_elmsAppend=null),at(t,"new_edge4viewBox",Y.dropShadow.adjustEdge),ft(t,{}),t.face.removeAttribute("filter"),lt(t.aplStats,Y.dropShadow.stats)},update:function(t){var e,n,a=t.curStats,o=t.aplStats,i=o.dropShadow_options;a.dropShadow_dx=e=i.dx,P(t,o,"dropShadow_dx",e)&&(t.efc_dropShadow_elmOffset.dx.baseVal=e,n=!0),a.dropShadow_dy=e=i.dy,P(t,o,"dropShadow_dy",e)&&(t.efc_dropShadow_elmOffset.dy.baseVal=e,n=!0),a.dropShadow_blur=e=i.blur,P(t,o,"dropShadow_blur",e)&&(t.efc_dropShadow_elmBlur.setStdDeviation(e,e),n=!0),n&&ft(t,{}),a.dropShadow_color=e=i.color,P(t,o,"dropShadow_color",e)&&(t.efc_dropShadow_styleFlood.floodColor=e),a.dropShadow_opacity=e=i.opacity,P(t,o,"dropShadow_opacity",e)&&(t.efc_dropShadow_styleFlood.floodOpacity=e)},adjustEdge:function(t,e){var n,a=t.curStats,o=t.aplStats;null!=a.dropShadow_dx&&((n={x1:e.x1-(n=3*a.dropShadow_blur)+a.dropShadow_dx,y1:e.y1-n+a.dropShadow_dy,x2:e.x2+n+a.dropShadow_dx,y2:e.y2+n+a.dropShadow_dy}).x1<e.x1&&(e.x1=n.x1),n.y1<e.y1&&(e.y1=n.y1),n.x2>e.x2&&(e.x2=n.x2),n.y2>e.y2&&(e.y2=n.y2),["x","y"].forEach(function(i){var u,p="dropShadow_"+i;a[p]=u=e[i+"1"],P(t,o,p,u)&&(t.efc_dropShadow_elmFilter[i].baseVal.value=u)}))}}},Object.keys(Y).forEach(function(t){var e=Y[t],n=e.stats;n[t+"_enabled"]={iniValue:!1},n[t+"_options"]={hasProps:!0},e.anim&&(n[t+"_animOptions"]={},n[t+"_animId"]={})}),K={none:{defaultAnimOptions:{},init:function(t,e){var n=t.curStats;n.show_animId&&(it.remove(n.show_animId),n.show_animId=null),K.none.start(t,e)},start:function(t,e){K.none.stop(t,!0)},stop:function(t,e,n){return n=n??t.aplStats.show_on,t.curStats.show_inAnim=!1,e&&Ft(t,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(t,e){var n=t.curStats,a=t.aplStats;n.show_animId&&it.remove(n.show_animId),n.show_animId=it.add(function(o){return o},function(o,i){i?K.fade.stop(t,!0):(t.svg.style.opacity=o+"",dt&&(J(t,t.svg),Ze(t)))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),K.fade.start(t,e)},start:function(t,e){var n,a=t.curStats;a.show_inAnim&&(n=it.stop(a.show_animId)),Ft(t,1),a.show_inAnim=!0,it.start(a.show_animId,!t.aplStats.show_on,e??n)},stop:function(t,e,n){var a,o=t.curStats;return n=n??t.aplStats.show_on,a=o.show_inAnim?it.stop(o.show_animId):n?1:0,o.show_inAnim=!1,e&&(t.svg.style.opacity=n?"":"0",Ft(t,n)),a}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(t,e){var n=t.curStats,a=t.aplStats,o=t.pathList.baseVal,i=Ue(o),u=i.segsLen,p=i.lenAll;n.show_animId&&it.remove(n.show_animId),n.show_animId=it.add(function(c){var M,g,_,O=-1;if(0===c)g=[[o[0][0],o[0][0]]];else if(1===c)g=o;else{for(M=p*c,g=[];M>=u[++O];)g.push(o[O]),M-=u[O];M&&(2===(_=o[O]).length?g.push([_[0],Ut(_[0],_[1],M/u[O])]):(c=Bt(_[0],_[1],_[2],_[3],Ee(_[0],_[1],_[2],_[3],M)),g.push([_[0],c.fromP1,c.fromP2,c])))}return g},function(c,M){M?K.draw.stop(t,!0):(t.pathList.animVal=c,ft(t,{path:!0}))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),K.draw.start(t,e)},start:function(t,e){var n,a=t.curStats;a.show_inAnim&&(n=it.stop(a.show_animId)),Ft(t,1),a.show_inAnim=!0,nt(t,"apl_position",K.draw.update),it.start(a.show_animId,!t.aplStats.show_on,e??n)},stop:function(t,e,n){var a,o=t.curStats;return n=n??t.aplStats.show_on,a=o.show_inAnim?it.stop(o.show_animId):n?1:0,o.show_inAnim=!1,e&&(t.pathList.animVal=n?null:[[t.pathList.baseVal[0][0],t.pathList.baseVal[0][0]]],ft(t,{path:!0}),Ft(t,n)),a},update:function(t){at(t,"apl_position",K.draw.update),t.curStats.show_inAnim?K.draw.init(t,K.draw.stop(t)):t.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(t){var e=t[0],n=t[1],a=t[2];Object.defineProperty(yt.prototype,e,{get:function(){var o=null!=a?st[this._id].options[n][a]:n?st[this._id].options[n]:st[this._id].options[e];return null==o?Mt:ht(o)},set:se(e),enumerable:!0})}),[["path",Te],["startSocket",Kt,"socketSE",0],["endSocket",Kt,"socketSE",1],["startPlug",me,"plugSE",0],["endPlug",me,"plugSE",1]].forEach(function(t){var e=t[0],n=t[1],a=t[2],o=t[3];Object.defineProperty(yt.prototype,e,{get:function(){var i,u=null!=o?st[this._id].options[a][o]:a?st[this._id].options[a]:st[this._id].options[e];return u?Object.keys(n).some(function(p){return n[p]===u&&(i=p,!0)})?i:new Error("It's broken"):Mt},set:se(e),enumerable:!0})}),Object.keys(Y).forEach(function(t){var e=Y[t];Object.defineProperty(yt.prototype,t,{get:function(){var n,a,o=st[this._id].options[t];return kt(o)?(n=o,a=e.optionsConf.reduce(function(i,O){var p,c=O[0],M=O[1],g=O[2],_=O[3],S=null!=(O=O[4])?n[_][O]:_?n[_]:n[M];return i[M]="id"===c?S?Object.keys(g).some(function(f){return g[f]===S&&(p=f,!0)})?p:new Error("It's broken"):Mt:null==S?Mt:ht(S),i},{}),e.anim&&(a.animation=ht(n.animation)),a):o},set:se(t),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(t,e){Object.defineProperty(yt.prototype,t,{get:function(){var n=st[this._id],a=n.options;return a.labelSEM[e]&&!n.optionIsAttach.labelSEM[e]?rt[a.labelSEM[e]._id].text:a.labelSEM[e]||""},set:se(t),enumerable:!0})}),yt.prototype.setOptions=function(t){return le(st[this._id],t),this},yt.prototype.position=function(){return ft(st[this._id],{position:!0}),this},yt.prototype.remove=function(){var t=st[this._id],e=t.curStats;Object.keys(Y).forEach(function(n){e[n+="_animId"]&&it.remove(e[n])}),e.show_animId&&it.remove(e.show_animId),t.attachments.slice().forEach(function(n){re(t,n)}),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete st[this._id]},yt.prototype.show=function(t,e){return oe(st[this._id],!0,t,e),this},yt.prototype.hide=function(t,e){return oe(st[this._id],!1,t,e),this},ue=function(t){t&&rt[t._id]&&(t.boundTargets.slice().forEach(function(e){re(e.props,t,!0)}),t.conf.remove&&t.conf.remove(t),delete rt[t._id])},Je.prototype.remove=function(){var t=this,e=rt[t._id];e&&(e.boundTargets.slice().forEach(function(n){e.conf.removeOption(e,n)}),Rt(function(){var n=rt[t._id];n&&(console.error("LeaderLineAttachment was not removed by removeOption"),ue(n))}))},Vt=Je,window.LeaderLineAttachment=Vt,Xt=function(t,e){return t instanceof Vt&&(!(t.isRemoved||e&&rt[t._id].conf.type!==e)||null)},B={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:jt}],init:function(t,e){return t.element=B.pointAnchor.checkElement(e.element),t.x=B.pointAnchor.parsePercent(e.x,!0)||[.5,!0],t.y=B.pointAnchor.parsePercent(e.y,!0)||[.5,!0],!0},removeOption:function(i,e){var n=e.props,a={},o=i.element;o===(i=n.options.anchorSE["start"===e.optionName?1:0])&&(o=i===document.body?new Vt(B.pointAnchor,[o]):document.body),a[e.optionName]=o,le(n,a)},getBBoxNest:function(t,o){var n=Ht(t.element,o.baseWindow),a=n.width;return o=n.height,n.width=n.height=0,n.left=n.right=n.left+t.x[0]*(t.x[1]?a:1),n.top=n.bottom=n.top+t.y[0]*(t.y[1]?o:1),n},parsePercent:function(t,e){var n,a,o=!1;return pt(t)?a=t:"string"==typeof t&&(n=Fe.exec(t))&&n[2]&&(o=0!=(a=parseFloat(n[1])/100)),null!=a&&(e||0<=a)?[a,o]:null},checkElement:function(t){if(null==t)t=document.body;else if(!jt(t))throw new Error("`element` must be Element");return t}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:jt},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(t,e){var n,a=[];return t.element=B.pointAnchor.checkElement(e.element),"string"==typeof e.color&&(t.color=e.color.trim()),"string"==typeof e.fillColor&&(t.fill=e.fillColor.trim()),pt(e.size)&&0<=e.size&&(t.size=e.size),e.dash&&(t.dash=!0,pt(e.dash.len)&&0<e.dash.len&&(t.dashLen=e.dash.len),pt(e.dash.gap)&&0<e.dash.gap&&(t.dashGap=e.dash.gap)),"circle"===e.shape?t.shape=e.shape:"polygon"===e.shape&&Array.isArray(e.points)&&3<=e.points.length&&e.points.every(function(o){var i={};return!(!(i.x=B.pointAnchor.parsePercent(o[0],!0))||!(i.y=B.pointAnchor.parsePercent(o[1],!0))||(a.push(i),(i.x[1]||i.y[1])&&(t.hasRatio=!0),0))})?(t.shape=e.shape,t.points=a):(t.shape="rect",t.radius=pt(e.radius)&&0<=e.radius?e.radius:0),"rect"!==t.shape&&"circle"!==t.shape||(t.x=B.pointAnchor.parsePercent(e.x,!0)||[-.05,!0],t.y=B.pointAnchor.parsePercent(e.y,!0)||[-.05,!0],t.width=B.pointAnchor.parsePercent(e.width)||[1.1,!0],t.height=B.pointAnchor.parsePercent(e.height)||[1.1,!0],(t.x[1]||t.y[1]||t.width[1]||t.height[1])&&(t.hasRatio=!0)),t.svg=e=(n=t.element.ownerDocument).createElementNS(F,"svg"),e.className.baseVal=ot+"-areaAnchor",e.viewBox.baseVal||e.setAttribute("viewBox","0 0 0 0"),t.path=e.appendChild(n.createElementNS(F,"path")),t.path.style.fill=t.fill||"none",t.isShown=!1,e.style.visibility="hidden",n.body.appendChild(e),Qe(n=n.defaultView),t.bodyOffset=qe(n),t.updateColor=function(){var i=t.aplStats,u=t.boundTargets.length?t.boundTargets[0].props.curStats:null;t.curStats.color=u=t.color||(u?u.line_color:ct.lineColor),P(t,i,"color",u)&&(t.path.style.stroke=u)},t.updateShow=function(){Ft(t,t.boundTargets.some(function(o){return!0===o.props.isShown}))},!0},bind:function(t,e){return e=e.props,t.color||nt(e,"cur_line_color",t.updateColor),nt(e,"svgShow",t.updateShow),Rt(function(){t.updateColor(),t.updateShow()}),!0},unbind:function(t,e){e=e.props,t.color||at(e,"cur_line_color",t.updateColor),at(e,"svgShow",t.updateShow),1<t.boundTargets.length&&Rt(function(){t.updateColor(),t.updateShow(),B.areaAnchor.update(t)&&t.boundTargets.forEach(function(n){ft(n.props,{position:!0})})})},removeOption:function(t,e){B.pointAnchor.removeOption(t,e)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){B.areaAnchor.unbind(t,e)})),t.svg.parentNode.removeChild(t.svg)},getStrokeWidth:function(t,e){return B.areaAnchor.update(t)&&1<t.boundTargets.length&&Rt(function(){t.boundTargets.forEach(function(n){n.props!==e&&ft(n.props,{position:!0})})}),t.curStats.strokeWidth},getPathData:function(t,e){var n=Ht(t.element,e.baseWindow);return xe(t.curStats.pathListRel,function(a){a.x+=n.left,a.y+=n.top})},getBBoxNest:function(t,e){return e=Ht(t.element,e.baseWindow),{left:(t=t.curStats.bBoxRel).left+e.left,top:t.top+e.top,right:t.right+e.left,bottom:t.bottom+e.top,width:t.width,height:t.height}},update:function(t){var e,n,a,o,i,u,p,c,M,g,_,O,S,f,s,l,y=t.curStats,m=t.aplStats,A=t.boundTargets.length?t.boundTargets[0].props.curStats:null,b={};if(b.strokeWidth=P(t,y,"strokeWidth",null!=t.size?t.size:A?A.line_strokeWidth:ct.lineSize),e=ee(t.element),b.elementWidth=P(t,y,"elementWidth",e.width),b.elementHeight=P(t,y,"elementHeight",e.height),b.elementLeft=P(t,y,"elementLeft",e.left),b.elementTop=P(t,y,"elementTop",e.top),b.strokeWidth||t.hasRatio&&(b.elementWidth||b.elementHeight)){switch(t.shape){case"rect":(O={left:t.x[0]*(t.x[1]?e.width:1),top:t.y[0]*(t.y[1]?e.height:1),width:t.width[0]*(t.width[1]?e.width:1),height:t.height[0]*(t.height[1]?e.height:1)}).right=O.left+O.width,O.bottom=O.top+O.height,_=y.strokeWidth/2,c=(p=Math.min(O.width,O.height))?p/2*Math.SQRT2+_:0,g=(p=t.radius?t.radius<=c?t.radius:c:0)?(c=(p-_)/Math.SQRT2,g=[{x:O.left-(M=p-c),y:O.top+c},{x:O.left+c,y:O.top-M},{x:O.right-c,y:O.top-M},{x:O.right+M,y:O.top+c},{x:O.right+M,y:O.bottom-c},{x:O.right-c,y:O.bottom+M},{x:O.left+c,y:O.bottom+M},{x:O.left-M,y:O.bottom-c}],y.pathListRel=[[g[0],{x:g[0].x,y:g[0].y-(_=p*te)},{x:g[1].x-_,y:g[1].y},g[1]]],g[1].x!==g[2].x&&y.pathListRel.push([g[1],g[2]]),y.pathListRel.push([g[2],{x:g[2].x+_,y:g[2].y},{x:g[3].x,y:g[3].y-_},g[3]]),g[3].y!==g[4].y&&y.pathListRel.push([g[3],g[4]]),y.pathListRel.push([g[4],{x:g[4].x,y:g[4].y+_},{x:g[5].x+_,y:g[5].y},g[5]]),g[5].x!==g[6].x&&y.pathListRel.push([g[5],g[6]]),y.pathListRel.push([g[6],{x:g[6].x-_,y:g[6].y},{x:g[7].x,y:g[7].y+_},g[7]]),g[7].y!==g[0].y&&y.pathListRel.push([g[7],g[0]]),y.pathListRel.push([]),[{x:O.left-(M=p-c+y.strokeWidth/2),y:O.top-M},{x:O.right+M,y:O.bottom+M}]):(y.pathListRel=[[(g=[{x:O.left-(M=y.strokeWidth/2),y:O.top-M},{x:O.right+M,y:O.bottom+M}])[0],{x:g[1].x,y:g[0].y}],[{x:g[1].x,y:g[0].y},g[1]],[g[1],{x:g[0].x,y:g[1].y}],[]],[{x:O.left-y.strokeWidth,y:O.top-y.strokeWidth},{x:O.right+y.strokeWidth,y:O.bottom+y.strokeWidth}]),y.bBoxRel={left:g[0].x,top:g[0].y,right:g[1].x,bottom:g[1].y,width:g[1].x-g[0].x,height:g[1].y-g[0].y};break;case"circle":(u={left:t.x[0]*(t.x[1]?e.width:1),top:t.y[0]*(t.y[1]?e.height:1),width:t.width[0]*(t.width[1]?e.width:1),height:t.height[0]*(t.height[1]?e.height:1)}).width||u.height||(u.width=u.height=10),u.width||(u.width=u.height),u.height||(u.height=u.width),u.right=u.left+u.width,u.bottom=u.top+u.height,_=u.left+u.width/2,p=u.top+u.height/2,i=y.strokeWidth/2,M=u.height/2,O=(c=u.width/2)*Math.SQRT2+i,g=M*Math.SQRT2+i,y.pathListRel=[[(i=[{x:_-O,y:p},{x:_,y:p-g},{x:_+O,y:p},{x:_,y:p+g}])[0],{x:i[0].x,y:i[0].y-(_=g*te)},{x:i[1].x-(p=O*te),y:i[1].y},i[1]],[i[1],{x:i[1].x+p,y:i[1].y},{x:i[2].x,y:i[2].y-_},i[2]],[i[2],{x:i[2].x,y:i[2].y+_},{x:i[3].x+p,y:i[3].y},i[3]],[i[3],{x:i[3].x-p,y:i[3].y},{x:i[0].x,y:i[0].y+_},i[0]],[]],y.bBoxRel={left:(i=[{x:u.left-(c=O-c+y.strokeWidth/2),y:u.top-(M=g-M+y.strokeWidth/2)},{x:u.right+c,y:u.bottom+M}])[0].x,top:i[0].y,right:i[1].x,bottom:i[1].y,width:i[1].x-i[0].x,height:i[1].y-i[0].y};break;case"polygon":t.points.forEach(function(C){var h=C.x[0]*(C.x[1]?e.width:1);C=C.y[0]*(C.y[1]?e.height:1),a?(h<a.left&&(a.left=h),h>a.right&&(a.right=h),C<a.top&&(a.top=C),C>a.bottom&&(a.bottom=C)):a={left:h,right:h,top:C,bottom:C},o?y.pathListRel.push([o,{x:h,y:C}]):y.pathListRel=[],o={x:h,y:C}}),y.pathListRel.push([]),y.bBoxRel={left:(i=[{x:a.left-(i=y.strokeWidth/2),y:a.top-i},{x:a.right+i,y:a.bottom+i}])[0].x,top:i[0].y,right:i[1].x,bottom:i[1].y,width:i[1].x-i[0].x,height:i[1].y-i[0].y}}b.pathListRel=b.bBoxRel=!0}return(b.pathListRel||b.elementLeft||b.elementTop)&&(y.pathData=xe(y.pathListRel,function(N){N.x+=e.left,N.y+=e.top})),P(t,m,"strokeWidth",n=y.strokeWidth)&&(t.path.style.strokeWidth=n+"px"),ae(n=y.pathData,m.pathData)&&(t.path.setPathData(n),m.pathData=n,b.pathData=!0),t.dash&&(!b.pathData&&(!b.strokeWidth||t.dashLen&&t.dashGap)||(y.dashLen=t.dashLen||2*y.strokeWidth,y.dashGap=t.dashGap||y.strokeWidth),b.dash=P(t,m,"dashLen",y.dashLen)||b.dash,b.dash=P(t,m,"dashGap",y.dashGap)||b.dash,b.dash&&(t.path.style.strokeDasharray=m.dashLen+","+m.dashGap)),f=m.viewBoxBBox,s=t.svg.viewBox.baseVal,l=t.svg.style,(S=y.viewBoxBBox).x=y.bBoxRel.left+e.left,S.y=y.bBoxRel.top+e.top,S.width=y.bBoxRel.width,S.height=y.bBoxRel.height,["x","y","width","height"].forEach(function(N){(n=S[N])!==f[N]&&(s[N]=f[N]=n,l[We[N]]=n+("x"===N||"y"===N?t.bodyOffset[N]:0)+"px")}),b.strokeWidth||b.pathListRel||b.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:jt},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(t,e){var n,a,o,i,u,p,c,M,g,_=B.mouseHoverAnchor,O={};if(t.element=B.pointAnchor.checkElement(e.element),!((M=(c=t.element).ownerDocument)&&(g=M.defaultView)&&g.HTMLElement&&c instanceof g.HTMLElement))throw new Error("`element` must be HTML element");return _.style.backgroundSize=_.backgroundSize.width+"px "+_.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(S){var f=_[S];t[S]=Object.keys(f).reduce(function(s,l){return s[l]=f[l],s},{})}),"inline"===(n=t.element.ownerDocument.defaultView.getComputedStyle(t.element,"")).display?t.style.display="inline-block":"none"===n.display&&(t.style.display="block"),B.mouseHoverAnchor.dirKeys.forEach(function(s){var f=s[0];s="padding"+s[1],parseFloat(n[s])<_.padding[f]&&(t.style[s]=_.padding[f]+"px")}),t.style.display&&(o=t.element.style.display,t.element.style.display=t.style.display),B.mouseHoverAnchor.dirKeys.forEach(function(S){t.style[S="padding"+S[1]]&&(O[S]=t.element.style[S],t.element.style[S]=t.style[S])}),(c=t.element.getBoundingClientRect()).height<_.minHeight&&(dt?(g=_.minHeight,"content-box"===n.boxSizing?g-=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)+parseFloat(n.paddingTop)+parseFloat(n.paddingBottom):"padding-box"===n.boxSizing&&(g-=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)),t.style.height=g+"px"):t.style.height=parseFloat(n.height)+(_.minHeight-c.height)+"px"),t.style.backgroundPosition=et?c.width-_.backgroundSize.width-_.backgroundPosition.right+"px "+_.backgroundPosition.top+"px":"right "+_.backgroundPosition.right+"px top "+_.backgroundPosition.top+"px",t.style.display&&(t.element.style.display=o),B.mouseHoverAnchor.dirKeys.forEach(function(S){t.style[S="padding"+S[1]]&&(t.element.style[S]=O[S])}),["style","hoverStyle"].forEach(function(S){var f=t[S],s=e[S];kt(s)&&Object.keys(s).forEach(function(l){"string"==typeof s[l]||pt(s[l])?f[l]=s[l]:null==s[l]&&delete f[l]})}),"function"==typeof e.onSwitch&&(p=e.onSwitch),e.showEffectName&&K[e.showEffectName]&&(t.showEffectName=i=e.showEffectName),u=e.animOptions,t.elmStyle=a=t.element.style,t.mouseenter=function(S){t.hoverStyleSave=_.getStyles(a,Object.keys(t.hoverStyle)),_.setStyles(a,t.hoverStyle),t.boundTargets.forEach(function(f){oe(f.props,!0,i,u)}),p&&p(S)},t.mouseleave=function(S){_.setStyles(a,t.hoverStyleSave),t.boundTargets.forEach(function(f){oe(f.props,!1,i,u)}),p&&p(S)},!0},bind:function(t,e){var n,a,o,i,u;return e.props.svg?B.mouseHoverAnchor.llShow(e.props,!1,t.showEffectName):Rt(function(){B.mouseHoverAnchor.llShow(e.props,!1,t.showEffectName)}),t.enabled||(t.styleSave=B.mouseHoverAnchor.getStyles(t.elmStyle,Object.keys(t.style)),B.mouseHoverAnchor.setStyles(t.elmStyle,t.style),t.removeEventListener=(a=t.mouseenter,o=t.mouseleave,"onmouseenter"in(n=t.element)&&"onmouseleave"in n?(n.addEventListener("mouseenter",a,!1),n.addEventListener("mouseleave",o,!1),function(){n.removeEventListener("mouseenter",a,!1),n.removeEventListener("mouseleave",o,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),n.addEventListener("mouseover",i=function(p){p.relatedTarget&&(p.relatedTarget===this||this.compareDocumentPosition(p.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||a.apply(this,arguments)}),n.addEventListener("mouseout",u=function(p){p.relatedTarget&&(p.relatedTarget===this||this.compareDocumentPosition(p.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||o.apply(this,arguments)}),function(){n.removeEventListener("mouseover",i,!1),n.removeEventListener("mouseout",u,!1)})),t.enabled=!0),!0},unbind:function(t,e){t.enabled&&t.boundTargets.length<=1&&(t.removeEventListener(),B.mouseHoverAnchor.setStyles(t.elmStyle,t.styleSave),t.enabled=!1),B.mouseHoverAnchor.llShow(e.props,!0,t.showEffectName)},removeOption:function(t,e){B.pointAnchor.removeOption(t,e)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){B.mouseHoverAnchor.unbind(t,e)}))},getBBoxNest:function(t,e){return Ht(t.element,e.baseWindow)},llShow:function(t,e,n){K[n||t.curStats.show_effect].stop(t,!0,e),t.aplStats.show_on=e},getStyles:function(t,e){return e.reduce(function(n,a){return n[a]=t[a],n},{})},setStyles:function(t,e){Object.keys(e).forEach(function(n){t[n]=e[n]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(t,e){return"string"==typeof e.text&&(t.text=e.text.trim()),!!t.text&&("string"==typeof e.color&&(t.color=e.color.trim()),t.outlineColor="string"==typeof e.outlineColor?e.outlineColor.trim():"#fff",Array.isArray(e.offset)&&pt(e.offset[0])&&pt(e.offset[1])&&(t.offset={x:e.offset[0],y:e.offset[1]}),pt(e.lineOffset)&&(t.lineOffset=e.lineOffset),B.captionLabel.textStyleProps.forEach(function(n){null!=e[n]&&(t[n]=e[n])}),t.updateColor=function(n){B.captionLabel.updateColor(t,n)},t.updateSocketXY=function(n){var a,o=t.curStats,i=t.aplStats,u=n.curStats,p=u.position_socketXYSE[t.socketIndex];null!=p.x&&(t.offset?(o.x=p.x+t.offset.x,o.y=p.y+t.offset.y):(a=t.height/2,n=Math.max(u.attach_plugSideLenSE[t.socketIndex]||0,u.line_strokeWidth/2),u=u.position_socketXYSE[t.socketIndex?0:1],p.socketId===bt||p.socketId===vt?(o.x=p.socketId===bt?p.x-a-t.width:p.x+a,o.y=u.y<p.y?p.y+n+a:p.y-n-a-t.height):(o.x=u.x<p.x?p.x+n+a:p.x-n-a-t.width,o.y=p.socketId===_t?p.y-a-t.height:p.y+a)),P(t,i,"x",a=o.x)&&(t.elmPosition.x.baseVal.getItem(0).value=a),P(t,i,"y",a=o.y)&&(t.elmPosition.y.baseVal.getItem(0).value=a+t.height))},t.updatePath=function(i){var a=t.curStats,o=t.aplStats;(i=i.pathList.animVal||i.pathList.baseVal)&&(i=B.captionLabel.getMidPoint(i,t.lineOffset),a.x=i.x-t.width/2,a.y=i.y-t.height/2,P(t,o,"x",i=a.x)&&(t.elmPosition.x.baseVal.getItem(0).value=i),P(t,o,"y",i=a.y)&&(t.elmPosition.y.baseVal.getItem(0).value=i+t.height))},t.updateShow=function(n){B.captionLabel.updateShow(t,n)},et&&(t.adjustEdge=function(n,a){var o=t.curStats;null!=o.x&&B.captionLabel.adjustEdge(a,{x:o.x,y:o.y,width:t.width,height:t.height},t.strokeWidth/2)}),!0)},updateColor:function(t,o){var a=t.aplStats;o=o.curStats,t.curStats.color=o=t.color||o.line_color,P(t,a,"color",o)&&(t.styleFill.fill=o)},updateShow:function(t,e){(e=!0===e.isShown)!==t.isShown&&(t.styleShow.visibility=e?"":"hidden",t.isShown=e)},adjustEdge:function(t,e,n){(n={x1:e.x-n,y1:e.y-n,x2:e.x+e.width+n,y2:e.y+e.height+n}).x1<t.x1&&(t.x1=n.x1),n.y1<t.y1&&(t.y1=n.y1),n.x2>t.x2&&(t.x2=n.x2),n.y2>t.y2&&(t.y2=n.y2)},newText:function(t,e,n,a,o){var i,u,p=e.createElementNS(F,"text");return p.textContent=t,[p.x,p.y].forEach(function(c){var M=n.createSVGLength();M.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),c.baseVal.initialize(M)}),"boolean"!=typeof Pt&&(Pt="paintOrder"in p.style),o&&!Pt?(i=e.createElementNS(F,"defs"),p.id=a,i.appendChild(p),(u=(t=e.createElementNS(F,"g")).appendChild(e.createElementNS(F,"use"))).href.baseVal="#"+a,(e=t.appendChild(e.createElementNS(F,"use"))).href.baseVal="#"+a,(u=u.style).strokeLinejoin="round",{elmPosition:p,styleText:p.style,styleFill:e.style,styleStroke:u,styleShow:t.style,elmsAppend:[i,t]}):(u=p.style,o&&(u.strokeLinejoin="round",u.paintOrder="stroke"),{elmPosition:p,styleText:u,styleFill:u,styleStroke:o?u:null,styleShow:u,elmsAppend:[p]})},getMidPoint:function(t,e){var n,a,i,o=(i=Ue(t)).segsLen,u=-1,p=(i=i.lenAll)/2+(e||0);if(p<=0)return 2===(n=t[0]).length?Ut(n[0],n[1],0):Bt(n[0],n[1],n[2],n[3],0);if(i<=p)return 2===(n=t[t.length-1]).length?Ut(n[0],n[1],1):Bt(n[0],n[1],n[2],n[3],1);for(a=[];p>o[++u];)a.push(t[u]),p-=o[u];return 2===(n=t[u]).length?Ut(n[0],n[1],p/o[u]):Bt(n[0],n[1],n[2],n[3],Ee(n[0],n[1],n[2],n[3],p))},initSvg:function(t,e){var n,a,o=B.captionLabel.newText(t.text,e.baseWindow.document,e.svg,ot+"-captionLabel-"+t._id,t.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(i){t[i]=o[i]}),t.isShown=!1,t.styleShow.visibility="hidden",B.captionLabel.textStyleProps.forEach(function(i){null!=t[i]&&(o.styleText[i]=t[i])}),o.elmsAppend.forEach(function(i){e.svg.appendChild(i)}),n=o.elmPosition.getBBox(),t.width=n.width,t.height=n.height,t.outlineColor&&(o.styleStroke.strokeWidth=(a=10<(a=n.height/9)?10:a<2?2:a)+"px",o.styleStroke.stroke=t.outlineColor),t.strokeWidth=a||0,lt(t.aplStats,B.captionLabel.stats),t.updateColor(e),t.refSocketXY?t.updateSocketXY(e):t.updatePath(e),et&&ft(e,{}),t.updateShow(e)},bind:function(t,e){var n=e.props;return t.color||nt(n,"cur_line_color",t.updateColor),(t.refSocketXY="startLabel"===e.optionName||"endLabel"===e.optionName)?(t.socketIndex="startLabel"===e.optionName?0:1,nt(n,"apl_position",t.updateSocketXY),t.offset||(nt(n,"cur_attach_plugSideLenSE",t.updateSocketXY),nt(n,"cur_line_strokeWidth",t.updateSocketXY))):nt(n,"apl_path",t.updatePath),nt(n,"svgShow",t.updateShow),et&&nt(n,"new_edge4viewBox",t.adjustEdge),B.captionLabel.initSvg(t,n),!0},unbind:function(t,e){var n=e.props;t.elmsAppend&&(t.elmsAppend.forEach(function(a){n.svg.removeChild(a)}),t.elmPosition=t.styleFill=t.styleShow=t.elmsAppend=null),lt(t.curStats,B.captionLabel.stats),lt(t.aplStats,B.captionLabel.stats),t.color||at(n,"cur_line_color",t.updateColor),t.refSocketXY?(at(n,"apl_position",t.updateSocketXY),t.offset||(at(n,"cur_attach_plugSideLenSE",t.updateSocketXY),at(n,"cur_line_strokeWidth",t.updateSocketXY))):at(n,"apl_path",t.updatePath),at(n,"svgShow",t.updateShow),et&&(at(n,"new_edge4viewBox",t.adjustEdge),ft(n,{}))},removeOption:function(t,e){var n=e.props,a={};a[e.optionName]="",le(n,a)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){B.captionLabel.unbind(t,e)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(t,e){return"string"==typeof e.text&&(t.text=e.text.trim()),!!t.text&&("string"==typeof e.color&&(t.color=e.color.trim()),t.outlineColor="string"==typeof e.outlineColor?e.outlineColor.trim():"#fff",pt(e.lineOffset)&&(t.lineOffset=e.lineOffset),B.captionLabel.textStyleProps.forEach(function(n){null!=e[n]&&(t[n]=e[n])}),t.updateColor=function(n){B.captionLabel.updateColor(t,n)},t.updatePath=function(n){var o=t.aplStats,i=n.curStats,u=n.pathList.animVal||n.pathList.baseVal;u&&(t.curStats.pathData=i=B.pathLabel.getOffsetPathData(u,i.line_strokeWidth/2+t.strokeWidth/2+t.height/4,1.25*t.height),ae(i,o.pathData)&&(t.elmPath.setPathData(i),o.pathData=i,t.bBox=t.elmPosition.getBBox(),t.updateStartOffset(n)))},t.updateStartOffset=function(n){var a,o,i=t.curStats,u=t.aplStats,p=n.curStats;i.pathData&&(2===t.semIndex&&!t.lineOffset||(o=i.pathData.reduce(function(c,M){var g,_=M.values;switch(M.type){case"M":a={x:_[0],y:_[1]};break;case"L":g={x:_[0],y:_[1]},a&&(c+=gt(a,g)),a=g;break;case"C":g={x:_[4],y:_[5]},a&&(c+=Zt(a,{x:_[0],y:_[1]},{x:_[2],y:_[3]},g)),a=g}return c},0),n=0===t.semIndex?0:1===t.semIndex?o:o/2,2!==t.semIndex&&(p=Math.max(p.attach_plugBackLenSE[t.semIndex]||0,p.line_strokeWidth/2)+t.strokeWidth/2+t.height/4,n=(n+=0===t.semIndex?p:-p)<0?0:o<n?o:n),t.lineOffset&&(n=(n+=t.lineOffset)<0?0:o<n?o:n),i.startOffset=n,P(t,u,"startOffset",n)&&(t.elmOffset.startOffset.baseVal.value=n)))},t.updateShow=function(n){B.captionLabel.updateShow(t,n)},et&&(t.adjustEdge=function(n,a){t.bBox&&B.captionLabel.adjustEdge(a,t.bBox,t.strokeWidth/2)}),!0)},getOffsetPathData:function(t,e,n){var a,o,i=[];function u(p,c){return Math.abs(p.x-c.x)<3&&Math.abs(p.y-c.y)<3}return t.forEach(function(p){var c,M,g,_,O,S,f,s,l,y,m;2===p.length?(s=p[0],l=p[1],y=e,m=Math.atan2(s.y-l.y,l.x-s.x)+.5*Math.PI,c=[{x:s.x+Math.cos(m)*y,y:s.y+Math.sin(m)*y*-1},{x:l.x+Math.cos(m)*y,y:l.y+Math.sin(m)*y*-1}],a?(g=a.points,0<=(f=Math.atan2(g[1].y-g[0].y,g[0].x-g[1].x)-Math.atan2(p[0].y-p[1].y,p[1].x-p[0].x))&&f<=Math.PI?M={type:"line",points:c,inside:!0}:(O=ne(g[0],g[1],e),_=ne(c[1],c[0],e),m=(l=O).x-(S=g[0]).x,s=(-(y=l.y-S.y)*(S.x-_.x)+m*(S.y-_.y))/(-(f=(s=c[1]).x-_.x)*y+m*(l=s.y-_.y)),l=(f*(S.y-_.y)-l*(S.x-_.x))/(-f*y+m*l),M=(y=0<=s&&s<=1&&0<=l&&l<=1?{x:S.x+l*m,y:S.y+l*y}:null)?{type:"line",points:[g[1]=y,c[1]]}:(g[1]=u(_,O)?_:O,{type:"line",points:[_,c[1]]}),a.len=gt(g[0],g[1]))):M={type:"line",points:c},M.len=gt(M.points[0],M.points[1]),i.push(a=M)):(i.push({type:"cubic",points:function(A,b,N,h,C,I){for(var r,d,x=Zt(A,b,N,h)/16,E=1/(16<C?C/16*x:x),L=[],w=0;d=(90-(r=Bt(A,b,N,h,w)).angle)*(Math.PI/180),L.push({x:r.x+Math.cos(d)*C,y:r.y+Math.sin(d)*C*-1}),!(1<=w);)1<(w+=E)&&(w=1);return L}(p[0],p[1],p[2],p[3],e)}),a=null)}),a=null,i.forEach(function(p){var c;a="line"===p.type?(p.inside&&(a.len>e?((c=a.points)[1]=ne(c[0],c[1],-e),a.len=gt(c[0],c[1])):(a.points=null,a.len=0),p.len>e+n?((c=p.points)[0]=ne(c[1],c[0],-(e+n)),p.len=gt(c[0],c[1])):(p.points=null,p.len=0)),p):null}),i.reduce(function(p,c){var M=c.points;return M&&(o&&u(M[0],o)||p.push({type:"M",values:[M[0].x,M[0].y]}),"line"===c.type?p.push({type:"L",values:[M[1].x,M[1].y]}):(M.shift(),M.forEach(function(g){p.push({type:"L",values:[g.x,g.y]})})),o=M[M.length-1]),p},[])},newText:function(t,e,n,a){var o,i,u,p,c=e.createElementNS(F,"defs"),M=c.appendChild(e.createElementNS(F,"path"));return M.id=o=n+"-path",(u=(i=e.createElementNS(F,"text")).appendChild(e.createElementNS(F,"textPath"))).href.baseVal="#"+o,u.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),u.textContent=t,"boolean"!=typeof Pt&&(Pt="paintOrder"in i.style),a&&!Pt?(i.id=t=n+"-text",c.appendChild(i),(p=(n=e.createElementNS(F,"g")).appendChild(e.createElementNS(F,"use"))).href.baseVal="#"+t,(e=n.appendChild(e.createElementNS(F,"use"))).href.baseVal="#"+t,(p=p.style).strokeLinejoin="round",{elmPosition:i,elmPath:M,elmOffset:u,styleText:i.style,styleFill:e.style,styleStroke:p,styleShow:n.style,elmsAppend:[c,n]}):(p=i.style,a&&(p.strokeLinejoin="round",p.paintOrder="stroke"),{elmPosition:i,elmPath:M,elmOffset:u,styleText:p,styleFill:p,styleStroke:a?p:null,styleShow:p,elmsAppend:[c,i]})},initSvg:function(t,e){var n,a,o,i=B.pathLabel.newText(t.text,e.baseWindow.document,ot+"-pathLabel-"+t._id,t.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(u){t[u]=i[u]}),t.isShown=!1,t.styleShow.visibility="hidden",B.captionLabel.textStyleProps.forEach(function(u){null!=t[u]&&(i.styleText[u]=t[u])}),i.elmsAppend.forEach(function(u){e.svg.appendChild(u)}),i.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),Tt&&(o=i.elmOffset.href.baseVal,i.elmOffset.href.baseVal=""),n=i.elmPosition.getBBox(),Tt&&(i.elmOffset.href.baseVal=o),i.styleText.textAnchor=["start","end","middle"][t.semIndex],2!==t.semIndex||t.lineOffset||i.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),t.height=n.height,t.outlineColor&&(i.styleStroke.strokeWidth=(a=10<(a=n.height/9)?10:a<2?2:a)+"px",i.styleStroke.stroke=t.outlineColor),t.strokeWidth=a||0,lt(t.aplStats,B.pathLabel.stats),t.updateColor(e),t.updatePath(e),t.updateStartOffset(e),et&&ft(e,{}),t.updateShow(e)},bind:function(t,e){var n=e.props;return t.color||nt(n,"cur_line_color",t.updateColor),nt(n,"cur_line_strokeWidth",t.updatePath),nt(n,"apl_path",t.updatePath),t.semIndex="startLabel"===e.optionName?0:"endLabel"===e.optionName?1:2,2===t.semIndex&&!t.lineOffset||nt(n,"cur_attach_plugBackLenSE",t.updateStartOffset),nt(n,"svgShow",t.updateShow),et&&nt(n,"new_edge4viewBox",t.adjustEdge),B.pathLabel.initSvg(t,n),!0},unbind:function(t,e){var n=e.props;t.elmsAppend&&(t.elmsAppend.forEach(function(a){n.svg.removeChild(a)}),t.elmPosition=t.elmPath=t.elmOffset=t.styleFill=t.styleShow=t.elmsAppend=null),lt(t.curStats,B.pathLabel.stats),lt(t.aplStats,B.pathLabel.stats),t.color||at(n,"cur_line_color",t.updateColor),at(n,"cur_line_strokeWidth",t.updatePath),at(n,"apl_path",t.updatePath),2===t.semIndex&&!t.lineOffset||at(n,"cur_attach_plugBackLenSE",t.updateStartOffset),at(n,"svgShow",t.updateShow),et&&(at(n,"new_edge4viewBox",t.adjustEdge),ft(n,{}))},removeOption:function(t,e){var n=e.props,a={};a[e.optionName]="",le(n,a)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){B.pathLabel.unbind(t,e)}))}}},Object.keys(B).forEach(function(t){yt[t]=function(){return new Vt(B[t],Array.prototype.slice.call(arguments))}}),yt.positionByWindowResize=!0,window.addEventListener("resize",Wt.add(function(){yt.positionByWindowResize&&Object.keys(st).forEach(function(t){ft(st[t],{position:!0})})}),!1),yt}();